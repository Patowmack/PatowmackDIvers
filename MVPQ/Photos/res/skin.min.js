var VER="4.5.3",DEBUG=!1,UNDEF="undefined",NOLINK="javascript:void(0)",LOCAL=0===location.protocol.indexOf("file:"),LOCALSTORAGE=function(){try{return localStorage.setItem("_t",VER),localStorage.removeItem("_t"),!0}catch(b){return!1}}(),VEND=function(b){return 0<b.indexOf("Trident")?"ms":0<b.indexOf("AppleWebKit")?"webkit":0<b.indexOf("Gecko")?"moz":0<b.indexOf("Presto")?"o":0<b.indexOf("Blink")?"webkit":""}(navigator.userAgent);String.wsp=[];String.wsp[9]=!0;String.wsp[10]=!0;String.wsp[11]=!0;
String.wsp[12]=!0;String.wsp[13]=!0;String.wsp[32]=!0;String.wsp[133]=!0;String.wsp[160]=!0;String.wsp[5760]=!0;String.wsp[6158]=!0;String.wsp[8192]=!0;String.wsp[8193]=!0;String.wsp[8194]=!0;String.wsp[8195]=!0;String.wsp[8196]=!0;String.wsp[8197]=!0;String.wsp[8198]=!0;String.wsp[8199]=!0;String.wsp[8200]=!0;String.wsp[8201]=!0;String.wsp[8202]=!0;String.wsp[8203]=!0;String.wsp[8232]=!0;String.wsp[8233]=!0;String.wsp[8239]=!0;String.wsp[8287]=!0;String.wsp[12288]=!0;
String.prototype.trim=function(){var b=this+"",a=b.length;if(a){var d=String.wsp,c=0;for(--a;0<=a&&d[b.charCodeAt(a)];)--a;for(++a;c<a&&d[b.charCodeAt(c)];)++c;b=b.substring(c,a)}return b};String.prototype.trunc=function(b){var a=this+"";if(a.length<=b)return a.toString();b=a.substring(0,b-1);a=b.lastIndexOf(" ");return(6<a&&20>b.length-a?b.substring(0,a):b)+"..."};String.prototype.startsWith=function(b){return 0===(this+"").indexOf(b)};
String.prototype.endsWith=function(b){return(this+"").substring(this.length-b.length)===b};String.prototype.getExt=function(){var b=this+"",a=b.lastIndexOf(".");return 0>=a||a>=b.length-1?"":b.substring(a+1).toLowerCase()};String.prototype.replaceExt=function(b){var a=this+"",d=a.lastIndexOf(".");return 0>=d?a:a.substring(0,d+1)+b};String.prototype.fixExtension=function(){return(this+"").replace(/.gif$/gi,".png").replace(/.tif+$/gi,".jpg")};
String.prototype.getDir=function(){var b=(this+"").split("#")[0];return b.substring(0,b.lastIndexOf("/")+1)};String.prototype.getFile=function(){var b=(this+"").split("#")[0];return b.substring(b.lastIndexOf("/")+1)};String.prototype.fixUrl=function(){for(var b,a,d=this+"";0<(b=d.indexOf("../"));){if(1===b||-1===(a=d.lastIndexOf("/",b-2)))return d.substring(b+3);d=d.substring(0,a)+d.substring(b+2)}return d};
String.prototype.fullUrl=function(){var b=this+"";b.match(/^(http|ftp|file)/)||(b=window.location.href.getDir()+b);return b.fixUrl()};String.prototype.cleanupHTML=function(){for(var b=[[/<br>/gi,"\n"],[/\&amp;/gi,"&"],[/\&lt;/gi,"<"],[/\&gt;/gi,">"],[/\&(m|n)dash;/gi,"-"],[/\&apos;/gi,"'"],[/\&quot;/gi,'"']],a=this+"",d=b.length-1;0<=d;d--)a=a.replace(b[d][0],b[d][1]);return a};String.prototype.stripHTML=function(){return(this+"").replace(/<\/?[^>]+>/gi,"")};
String.prototype.stripQuote=function(){return(this+"").replace(/\"/gi,"&quot;")};String.prototype.appendSep=function(b,a){return(this.length?this+(a||" &middot; "):"")+b};String.prototype.rgb2hex=function(){var b=this+"";if("#"===b.charAt(0)||"transparent"===b)return b;var a=b.match(/\d+/g),d="";if(a){for(var c=0;c<a.length&&3>c;c++)b=parseInt(a[c],10).toString(16),d+=(2>b.length?"0":"")+b;return"#"+d}return"transparent"};
String.prototype.template=function(b){if(!b||!this)return this;for(var a=this+"",d=0;d<b.length;d++)a=a.replace(RegExp("\\{"+d+"\\}","gi"),b[d]);return a};Math.minMax=function(b,a,d){a=isNaN(a)?parseFloat(a):a;return a<b?b:a>d?d:a};
var getCoords=function(b){return b.touches&&0<b.touches.length?{x:Math.round(b.touches[0].clientX),y:Math.round(b.touches[0].clientY)}:null!==b.clientX?{x:Math.round(b.clientX),y:Math.round(b.clientY)}:{x:UNDEF,y:UNDEF}},noAction=function(b){b.stopPropagation();b.preventDefault();return!1},fixFbComments=function(b){var a=window.location.href;-1===a.indexOf("?fb_comment_id=")?(a=a.split("#")[0],b&&"/"===a[a.length-1]&&(a+=b)):a=a.split("?")[0];document.getElementById("fb-comments").setAttribute("data-href",
a)},initMobile=function(){if(/Mobile/.test(navigator.userAgent)&&!(980<screen.width||980<screen.height||window.innerWidth!==document.documentElement.clientWidth&&window.innerWidth-1!==document.documentElement.clientWidth)){var b=function(){window.hasOwnProperty("pageYOffset")&&window.scrollTo(0,window.pageYOffset+1);return!0};setTimeout(function(){b()},1E3);$(window).on("orientationchange",b)}},log=function(){};
(function(b){var a,d=!1,c,e=1;log=function(g){DEBUG&&!d&&(a||(a=b('<div id="log" style="position:fixed;left:0;top:0;width:200px;bottom:0;overflow:auto;padding:10px;background-color:rgba(0,0,0,0.5);color:#fff;font-size:15px;z-index:99999"></div>').hover(function(){d=!0},function(){d=!1}).appendTo("body")),g===c?a.children(":first").empty().html(c+" ("+ ++e+")"):(b('<div style="height:2em;overflow:hidden;">'+g+"</div>").prependTo(a),c=g,e=1))};b.fn.logEvents=function(a){if(DEBUG){var c=a||"mousedown mouseup mouseover mouseout mousewheel dragstart click blur focus load unload reset submit change abort cut copy paste selection drag drop orientationchange touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend";
return this.each(function(){b(this).on(c,function(a){"log"!==a.target.id&&log(a.type+' <span style="padding:0 4px;font-size:0.8em;background-color:#000;border-radius:4px;"><b>'+a.target.nodeName.toLowerCase()+"</b>"+(a.target.id?":"+a.target.id:"")+"</span>"+(a.relatedTarget?' <span style="padding:0 4px;font-size:0.8em;background-color:#800;border-radius:4px;"><b>'+a.relatedTarget.nodeName.toLowerCase()+"</b>"+(a.relatedTarget.id?":"+a.relatedTarget.id:"")+"</span>":""));return!0})})}};b.fn.logCss=
function(a,c,e){if(DEBUG){e=e||20;c=c||2E3;var d=new Date;return this.each(function(){var k=b(this),n=function(a){var b=new Date-d;log(b+"&nbsp;::&nbsp;"+a+" = "+k.css(a));b>c&&clearInterval(q)},q=setInterval(function(){if(b.isArray(a))for(var c=0;c<a.length;c++)n(a[c]);else n(a)},e)})}}})(jQuery);
(function(b,a){a.touchMode=window.navigator.msMaxTouchPoints?0!=window.navigator.msMaxTouchPoints:/(Chrome|CriOS)/.test(navigator.userAgent)?/Mobile/.test(navigator.userAgent):"ontouchstart"in window})(jQuery,document);
(function(b){var a=["DOMMouseScroll","mousewheel"];if(b.event.fixHooks)for(var d=a.length;d;)b.event.fixHooks[a[--d]]=b.event.mouseHooks;b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=a.length;b;)this.addEventListener(a[--b],c,!1);else this.onmousewheel=c},teardown:function(){if(this.removeEventListener)for(var b=a.length;b;)this.removeEventListener(a[--b],c,!1);else this.onmousewheel=null}};b.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},
unmousewheel:function(a){return this.unbind("mousewheel",a)}});var c=function(a){var c=a||window.event,d=[].slice.call(arguments,1),f=0,l=0,k=0;a=b.event.fix(c);a.type="mousewheel";c.wheelDelta?f=c.wheelDelta/120:c.detail&&(f=-c.detail/3);k=f;void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(k=0,l=-1*f);void 0!==c.wheelDeltaY&&(k=c.wheelDeltaY/120);void 0!==c.wheelDeltaX&&(l=-1*c.wheelDeltaX/120);d.unshift(a,f,l,k);return(b.event.dispatch||b.event.handle).apply(this,d)}})(jQuery);
(function(b){b.event.special.dbltap={setup:function(){b(this).on("touchend.dbltap",b.event.special.dbltap.handler)},teardown:function(){b(this).off("touchend.dbltap")},handler:function(a){var d=[].slice.call(arguments,1),c=b(a.target),e=(new Date).getTime(),g=e-(c.data("lastTouch")||0);if(5<g&&300>g)return c.data("lastTouch",0),a=b.event.fix(a||window.event),a.type="dbltap",d.unshift(a),(b.event.dispatch||b.event.handle).apply(this,d);c.data("lastTouch",e);return!0}}})(jQuery);
(function(b){b.cookie=function(a,d,c){var e,g,h=function(a){return/^(true|yes)$/.test(a)?!0:/^(false|no)$/.test(a)?!1:/^([\d.]+)$/.test(a)?parseFloat(a):a};if(1<arguments.length)return g=new Date,null===d?LOCALSTORAGE?localStorage.removeItem(a):document.cookie=encodeURIComponent(a)+"=; expires="+g.toGMTString()+"; path=/":/^(string|number|boolean)$/.test(typeof d)&&(g.setTime(g.getTime()+1E3*("number"!==typeof c?3600:c)),LOCALSTORAGE?localStorage.setItem(a,String(d)+"; "+String(g.getTime())):document.cookie=
encodeURIComponent(a)+"="+String(d)+"; expires="+g.toGMTString()+"; path=/"),d;if(a)if(LOCALSTORAGE){if(e=localStorage.getItem(a))if(e=e.split("; "),b.isArray(e)&&1<e.length){g=new Date;if(g.getTime()<parseInt(e[1],10))return h(e[0]);localStorage.removeItem(a)}else return h(e)}else{e=document.cookie.split(";");a+="=";for(var f=0;f<e.length;f++)g=e[f].trim(),0===g.indexOf(a)&&(g=g.substring(a.length),h(g))}return null}})(jQuery);
(function(b){var a=-1===navigator.userAgent.indexOf("Firefox"),d={put:function(a,b){(b||window).location.hash=this.encoder(a)},get:function(b){b=(b||window).location.hash.replace(/^#/,"");try{return a?decodeURIComponent(b):b}catch(c){return b}},encoder:encodeURIComponent},c={base:{callback:void 0,type:void 0,check:function(){},load:function(){},init:function(a,c){var f;f=b.extend({unescape:!1},c||{});var l=f.unescape;if(!0===l)f=function(a){return a};else{if(f="string"===typeof l){f=l.split("");var k=
RegExp(b.map(f,encodeURIComponent).join("|"),"ig");f=l=function(a){return a.replace(k,decodeURIComponent)}}f=f||"function"===typeof l?function(a){return l(encodeURIComponent(a))}:encodeURIComponent}d.encoder=f;e.callback=a;e._options=c;e._init()},_init:function(){},_options:{}},timer:{_appState:void 0,_init:function(){var a=d.get();e._appState=a;e.callback(a);setInterval(e.check,100)},check:function(){var a=d.get();a!==e._appState&&(e._appState=a,e.callback(a))},load:function(a){a!==e._appState&&
(d.put(a),e._appState=a,e.callback(a))}},hashchangeEvent:{_init:function(){e.callback(d.get());b(window).on("hashchange",e.check)},check:function(){e.callback(d.get())},load:function(a){d.put(a)}}},e=b.extend({},c.base);e.type="onhashchange"in window?"hashchangeEvent":"timer";b.extend(e,c[e.type]);b.history=e})(jQuery);
(function(b){b.fn.addModal=function(a,d,c){"string"===typeof a&&(a=b(a));if(a instanceof b&&a.length){b.isArray(d)||(c=d,d=null);c=b.extend({},b.fn.addModal.defaults,c);c.savePosition=c.savePosition&&typeof c.uid!==UNDEF;var e,g,h,f,l,k,n=0,q;e=b(this).find(b("._m_window"));e.length?(c.uid&&e.find("#"+c.uid).remove(),q=clearTimeout(q),e.stop(!0,!1).css({opacity:1,display:"block"})):(e=b("<div>",{"class":"_m_window",role:"modal"}).css({opacity:0}).appendTo(b(this)),b(this).css({position:"relative"}),
c.darkenBackground||e.css({backgroundImage:"none",backgroundColor:"transparent"}));g=b("<div>",{id:c.uid||"_mod_"+Math.floor(1E4*Math.random()),"class":"_m_panel"}).css({width:c.width}).appendTo(e);h=b("<header>",{"class":"_m_head"}).appendTo(g);h.append(b("<h5>",{text:c.title}));var t=function(){f.trigger("removeHint");q=clearTimeout(q);e.animate({opacity:0},c.speed,function(){e.remove()});return!1};e.on("destroy",t);if(c.closeOnClickOut&&c.darkenBackground)e.on("click",function(a){b(a.target).hasClass("_m_window")&&
t(a);return!0});f=b("<a>",{href:NOLINK,"class":"close"}).appendTo(h);document.touchMode?f[0].ontouchend=t:(f.on("click",t),f.addHint(c.closeWindow));var u=function(a){var d=g.position().left,f=g.position().top,p=getCoords(a),q=e.width()-g.width()-c.pad,j=e.height()-g.height()-c.pad,l=h.css("cursor");h.css({cursor:"move"});var k=function(a){a=getCoords(a);g.css({left:Math.minMax(c.pad,d+a.x-p.x,q),top:Math.minMax(c.pad,f+a.y-p.y,j)});return!1},w=function(){b(document).off({mousemove:k,mouseup:w});
h.css("cursor",l);c.savePosition&&s();return!1};if(document.touchMode)this.ontouchmove=k,this.ontouchend=w;else b(document).on({mousemove:k,mouseup:w});return!1};if(document.touchMode)h[0].ontouchstart=u;else h.on("mousedown",u);l=b("<div>",{"class":"_m_cont"}).appendTo(g);k=b("<div>",{"class":"_m_cont_i"}).append(a).appendTo(l);if(d&&d.length){var p,w=b("<div>",{"class":"buttons"}).appendTo(k),m=function(a){p.each(function(c){b(this).toggleClass("active",c===a)})},r=function(){b(document).off("keydown",
j);t()},j=function(a){if(document.activeElement&&"input"===document.activeElement.nodeName||b.isFunction(c.enableKeyboard)&&!c.enableKeyboard())return!0;var e=a?a.keyCode:window.event.keyCode;if(27===e)return r(),!1;if(w){var d=w.find("a.active"),g=p.index(d);switch(e){case 13:case 10:b.isFunction(d[0].handler)&&(d[0].handler.call(),r());break;case 39:m((g+1)%p.length);break;case 37:m(g?g-1:p.length-1);break;default:return a.returnValue=!0}return!1}return a.returnValue=!0},z=function(a){a=a.target;
b.isFunction(a.handler)&&a.handler.call();r();return!1};for(a=0;a<d.length;a++)a&&w.append(" "),u=b("<a>",{href:NOLINK,html:d[a].t}).on("click",z).appendTo(w),b.isFunction(d[a].h)&&(u[0].handler=d[a].h);p=w.children("a");p.last().addClass("active");if(b.isFunction(c.enableKeyboard)||c.enableKeyboard)b(document).on("keydown",j)}if(c.resizable)if(h.on("dblclick",function(){var a=[g.position().left,g.position().top,g.width(),g.height()],b=[c.pad,c.pad,e.width()-2*c.pad,e.height()-2*c.pad],d=function(a){g.css({left:Math.minMax(c.gap,
a[0],e.width()-a[2]-c.gap),top:Math.minMax(c.gap,a[1],e.height()-a[3]-c.gap),width:a[2],height:a[3]});k.css({height:a[3]-n})};a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]?d(g.data("wpos")):(d(b),g.data("wpos",a));c.savePosition&&s();return!1}),d=b("<a>",{"class":"resize"}).appendTo(g),a=function(a){var d=g.width(),f=g.height(),p=getCoords(a),q=e.width(),j=e.height()-c.pad-g.position().top-n,q=e.width()-c.pad-g.position().left,h=function(a){a=getCoords(a);var b=Math.min(Math.max(f+a.y-p.y-n,
20),j);g.css({width:Math.min(Math.max(d+a.x-p.x,60),q),height:b+n});k.css({height:b});return!1},l=function(){b(document).off({mousemove:h,mouseup:l});c.savePosition&&s();return!1};if(document.touchMode)this.ontouchmove=h,this.ontouchend=l;else b(document).on({mousemove:h,mouseup:l});return!1},document.touchMode)d[0].ontouchstart=a;else d.on("mousedown",a);var x=function(){var a=g.width(),b=g.height(),d=e.width(),f=e.height();n=b-k.height();a&&(b&&d&&f)&&(a+2*c.pad>d&&g.css({width:a=d-2*c.pad}),b+
2*c.pad>f&&(g.css({height:b=f-2*c.pad}),k.css({height:f-2*c.pad-n})),g.css({left:Math.max(Math.round((d-a)/2),c.pad),top:Math.max(Math.round((f-b)/2),c.pad)}))},s=function(){b.cookie("modalPosition"+c.uid,g.position().left+","+g.position().top+","+g.width()+","+g.height())},A=c.savePosition?b.cookie("modalPosition"+c.uid):null;e.css({opacity:0}).show();setTimeout(function(){if(A&&(A=A.split(","))&&b.isArray(A)&&3<A.length){var a=A,d=e.width(),f=e.height(),p=Math.minMax(c.pad,parseInt(a[0],10),d-c.pad-
60),j=Math.minMax(c.pad,parseInt(a[1],10),f-c.pad-60),a=Math.minMax(60,parseInt(a[2],10),d-p-c.pad),w;(isNaN(p)||isNaN(j)||isNaN(a)||isNaN(w))&&x();n=h.outerHeight()+parseInt(l.css("padding-top"),10)+parseInt(l.css("padding-bottom"),10)+parseInt(k.css("padding-top"),10)+parseInt(k.css("padding-bottom"),10)+parseInt(l.css("border-top-width"),10);g.css({position:"absolute",left:p,top:j,width:a});if(g.height()>(w=f-j-c.pad))g.css({height:w}),k.css({height:w-n})}else x();e.animate({opacity:1},c.speed);
c.savePosition&&s();c.autoFade&&(q=setTimeout(t,c.autoFade))},40);return this}};b.fn.addModal.defaults={speed:250,autoFade:0,width:400,resizable:!0,enableKeyboard:!0,closeOnClickOut:!0,closeWindow:"Close window",darkenBackground:!0,savePosition:!0,pad:6}})(jQuery);
(function(b){b.fn.addHint=function(a,d){a&&("string"!==typeof a&&!a.jquery)&&(d=a,a=null);d=b.extend({},b.fn.addHint.defaults,d);return this.each(function(){var c=b(this),e=a||c.attr("title"),g,h=!1,f=!1,l=!(e&&e.jquery),k;if(e&&e.length){c.data("hint",e);var n=function(){if(l){var a=b("#"+d.id);a.length||(a=b("<div>",{"class":d.id,id:d.id}).hide().appendTo("body"));k=a;k.empty().html(e)}else k=e.show();k.off("mouseover",p);k.off("mouseout",q);var p=function(){g=clearTimeout(g);h=!0;k.stop(!0,!0).css({opacity:1}).show()},
q=function(){f||(g=clearTimeout(g),h=!1,t())};k.on("mouseover",p);k.on("mouseout",q);k.find("input").on({focus:function(){f=!0;p()},blur:function(){f=!1}});k.stop(!0,!0).alignTo(c,{posX:d.posX,posY:d.posY,toX:d.toX,toY:d.toY});k.css({opacity:0}).show().animate({opacity:1},200);document.touchMode?g=setTimeout(t,d.stay):h=!0},q=function(){h=!1;g=clearTimeout(g);t()};c.on("removeHint",q);var t=function(){!h&&(k&&k.length)&&k.stop(!0,!1).animate({opacity:0},200,function(){b(this).hide()})};e.jquery?e.addClass(d.id):
c.removeAttr("title");c.on(document.touchMode?{touchstart:n}:{"focus mouseenter":n,"blur mouseleave":q})}})};b.fn.addHint.defaults={id:"hint",stay:3E3,posX:1,posY:2,toX:1,toY:0}})(jQuery);
(function(b){b.fn.loadImages=function(a){a=b.extend({},b.fn.loadImages.defaults,a);return this.each(function(){var d=b(this),c=d.find(a.selector).eq(0)||d.children().eq(0);if(c.length&&d.is(":visible")&&c.is(":visible")){var e=c.find("img."+a.loadClass);if(e.length){var g="absolute"===c.css("position"),h=-(typeof a.left!==UNDEF?a.left:c.position().left-(g?0:d.scrollLeft()))-a.d,f=-(typeof a.top!==UNDEF?a.top:c.position().top-(g?0:d.scrollTop()))-a.d,l=c.offset().left,k=c.offset().top,n=(g?d.width():
b(window).width())+2*a.d,q=(g?d.height():b(window).height())+2*a.d,t,u,p,w,m,r=0;e.each(function(){u=b(this);t=u.parent();if(m=u.data("src"))w=t.offset().left-l,p=t.offset().top-k,p<f+q&&(w<h+n&&p+t.outerHeight()>f&&w+t.outerWidth()>h)&&(b("<span>",{"class":a.wait}).appendTo(t),u.hide().on("load",function(){b(this).fadeIn().siblings("."+a.wait).remove()}).attr({src:m}).removeClass(a.loadClass),r++)})}}})};b.fn.loadImages.defaults={selector:".load",loadClass:"toload",wait:"wait",d:80}})(jQuery);
(function(b){b.fn.addScroll=function(a){a=b.extend({},b.fn.addScroll.defaults,a);return this.each(function(){var d,c=b(this),e=c.parent(),g,h,f,l,k,n,q,t,u=0,p,w,m,r,j,z,x;c.css({position:"absolute",width:e.width-20});e.css({overflow:"hidden"});"absolute"!==e.css("position")&&e.css({position:"relative"});g=b("<div>",{"class":a.upbtn}).appendTo(e);h=b("<div>",{"class":a.dnbtn}).appendTo(e);f=b("<div>",{"class":a.scbar}).appendTo(e);l=b("<div>").appendTo(f);k=g.add(h).add(f);k.hide();var s=function(){return c.position().top},
A=function(a){return Math.round((f.height()-6)*-(null==a?s():a)/n)+3},v=function(){return Math.max(Math.round((f.height()-6)*q/n),a.dragMinSize)},B=function(b){null==b&&(b=s());g.css({opacity:b?1:a.disabledOpacity});h.css({opacity:b===q-n?a.disabledOpacity:1})},C=function(){return!1},F=function(){var a=n,b=q;n=c.height();q=e.height();e.scrollTop()&&(c.css({top:-e.scrollTop()}),e.scrollTop(0));if(a!==n||b!==q)n<=q?(c.css({top:0}).off("selectstart",C),k.hide()):(c.position().top<q-n&&c.css({top:q-n}),
l.css({top:A(),height:v()}),c.on("selectstart",C),k.show(),B()),e.loadImages()},y=function(b){clearInterval(t);q>=n||(b=Math.minMax(q-n,Math.round(b),0),l.stop(!0,!0).animate({top:A(b)},a.speed,a.effect),c.stop(!0,!0).animate({top:b},a.speed,a.effect,function(){B(b)}),e.loadImages({top:b}))};g.on("click",function(){y(s()+q);return!1});h.on("click",function(){y(s()-q);return!1});f.on("click",function(a){a.pageY<l.offset().top?y(s()+q):a.pageY>l.offset().top+l.height()&&y(s()-q);return!1});if(a.enableMouseWheel)c.on("mousewheel",
function(b,c){c&&y(s()+a.wheelIncr*(0>c?-1:1));return!1});var I=function(a){l.css({top:Math.minMax(2,Math.round(a.pageY-l.data("my")),f.height()-l.height()-2)});c.css({top:Math.minMax(q-n,-Math.round((l.position().top-3)*n/(f.height()-6)),0)});B();e.loadImages();return!1},K=function(){b(document).off("mousemove",I).off("mouseup",K);return!1};l.on("mousedown",function(a){b(this).data("my",Math.round(a.pageY)-b(this).position().top);b(document).on({mousemove:I,mouseup:K});return!1});var E=function(a){return u=
a.touches&&0<a.touches.length?a.touches[0].clientY:a.clientY?a.clientY:u},L=function(){z+=Math.round(j/20);var a=r+z;0<a||a<x?clearInterval(t):(c.css({top:a}),l.css({top:A(),height:v()}),j*=0.8,10>Math.abs(j)&&(j=0,clearInterval(t)))},Y=function(a){if(w){if(a=E(a)-w)c.data("dragOn",!0),c.css({top:Math.minMax(x,p+a,0)}),l.css({top:A(),height:v()})}else w=E(a);return!1},S=function(a){r=s();a=E(a)-w;var d=(new Date).getTime()-m;j=1E3*a/d;t=setInterval(L,50);document.touchMode?this.ontouchend=this.ontouchmove=
null:b(document).off({mousemove:Y,mouseup:S});setTimeout(function(){c.data("dragOn",!1)},20);e.loadImages();return 4>Math.abs(a)&&300>d},T=function(d){if(c.data("dragOn"))return S(d),!0;if(d.target.scrollHeight-1>d.target.clientHeight||a.dontDrag&&(b(d.target).is(a.dontDrag).length||b(d.target).parents(a.dontDrag).length)||q>=n||("touchstart"===d.type||"touchmove"===d.type)&&(!d.touches||1<d.touches.length||c.is(":animated")))return!0;l.stop(!0,!0);c.stop(!0,!0);clearInterval(t);p=s();w=E(d);m=(new Date).getTime();
z=0;x=q-n;if(document.touchMode)return b(d.target).closest("a").focus(),this.ontouchmove=Y,this.ontouchend=S,!0;b(document).on({mousemove:Y,mouseup:S});return!1};if(document.touchMode)c[0].ontouchstart=T;else c.on("mousedown",T);b(window).on("resize",function(){clearTimeout(d);d=setTimeout(F,50)});d=setTimeout(F,10);a.refresh&&setInterval(function(){b("[role=gallery]").is(":visible")||F()},a.refresh);c.attr("role","scroll").data("dragOn",!1).on("adjust",F);k.on("selectstart",C);T=function(){if(!c.data("dragOn")){var a=
b(this).parent()===c?b(this):b(this).parent(),d=a.position().top,a=a.outerHeight(!0),g=c.position().top,f=e.height();if(!(f>c.height())){if(d+a>f-g)g=Math.max(f-a-d,f-c.height());else if(d<-g)g=-d;else return;y(g)}}};if(a.focusActive)c.find("a").on("setactive",T);c.on("click",function(){return!b(this).data("dragOn")});if(b.isFunction(a.enableKeyboard)||a.enableKeyboard)b(document).on("keydown",function(c){if(document.activeElement&&"INPUT"===document.activeElement.nodeName||b.isFunction(a.enableKeyboard)&&
!a.enableKeyboard())return!0;switch(c?c.keyCode:window.event.keyCode){case 33:return y(s()+q),!1;case 34:return y(s()-q),!1}return c.returnValue=!0})})};b.fn.addScroll.defaults={upbtn:"scrup",dnbtn:"scrdn",scbar:"scrbar",dragMinSize:10,speed:300,effect:"swing",disabledOpacity:0.3,wheelIncr:50,enableKeyboard:!0,enableMouseWheel:!0,focusActive:!0,refresh:0}})(jQuery);
(function(b){b.extend(jQuery.easing,{easeOutBack:function(a,b,c,e,g,h){null==h&&(h=1.70158);return e*((b=b/g-1)*b*((h+1)*b+h)+1)+c}});b.fn.scrollThumbs=function(a){a=b.extend({},b.fn.scrollThumbs.defaults,a);return this.each(function(){var d=b(this),c=d.parent(),e=0,g,h,f,l,k,n,q,t,u,p=b("<div>",{"class":a.scleft}).insertAfter(c),w=b("<div>",{"class":a.scright}).insertAfter(c),m=function(b){b=null==b?d.position().left:b;p.css({opacity:0>b?1:a.disabledOpacity});w.css({opacity:c.width()<b+d.width()?
1:a.disabledOpacity})},r=function(e){var g=c.width(),f=d.width();g&&(f&&!(g>=f)&&b.isNumeric(e))&&(0<e?e=0:e<g-f&&(e=g-f),m(e),d.stop(!0,!1),clearInterval(t),d.animate({left:e},a.speed,a.effect),c.loadImages({left:e}))};p.on("click",function(){j();r(d.position().left+c.width());return!1});w.on("click",function(){j();r(d.position().left-c.width());return!1});var j=function(b){"number"===typeof u&&clearTimeout(u);u=typeof b!==UNDEF?b:setTimeout(function(){u=!1},a.seekStay)};d.on("setactive",function(){if(!d.data("dragOn")&&
!u){var b=d.find(a.active).closest("li");if(b.length){var e=b.position().left,b=b.outerWidth(!0),g=Math.round(b*a.headRoom),f=d.position().left,p=c.width();if(!(p>d.width())){if(e>p-b-g-f)f=Math.max(p-b-g-e,p-d.width());else if(e<-f+g)f=-e+g;else return;r(f)}}}});var z=function(a,b){a.preventDefault();b&&(d.stop(!0,!1),clearInterval(t),j(),r(d.position().left+c.width()*(0>b?-1:1)));return!1};if(a.enableMouseWheel)d.on("mousewheel",z);m();var x=function(a){return e=a.touches&&0<a.touches.length?a.touches[0].clientX:
a.clientX?a.clientX:e},s=function(){n+=Math.round(k/20);var a=l+n;0<a||a<q?clearInterval(t):(d.css({left:a}),k*=0.8,10>Math.abs(k)&&(k=0,clearInterval(t)))},A=function(a){if(h){if(a=x(a)-h)d.data("dragOn",!0),d.css({left:Math.minMax(q,g+a,0)})}else h=x(a);return!1},v=function(a){l=d.position().left;a=x(a)-h;var e=(new Date).getTime()-f;k=1E3*a/e;t=setInterval(s,50);j();document.touchMode?this.ontouchend=this.ontouchmove=null:b(document).off({mousemove:A,mouseup:v});setTimeout(function(){d.data("dragOn",
!1)},20);c.loadImages();return 4>Math.abs(a)&&300>e},z=function(a){if(("touchstart"===a.type||"touchmove"===a.type)&&(!a.touches||1<a.touches.length||d.is(":animated")))return!0;d.stop(!0,!1);clearInterval(t);j(!0);g=d.position().left;h=x(a);f=(new Date).getTime();n=0;q=c.width()-d.width();if(document.touchMode)return b(a.target).closest("a").focus(),this.ontouchmove=A,this.ontouchend=v,!0;b(document).on({mousemove:A,mouseup:v});return!1};if(document.touchMode)d[0].ontouchstart=z;else d.on("mousedown",
z);d.attr("role","scroll").data("dragOn",!1);d.add(p).add(w).on("selectstart",noAction);c.loadImages()})};b.fn.scrollThumbs.defaults={active:".active",scleft:"scleft",scright:"scright",seekStay:3E3,speed:1500,incr:100,effect:"easeOutBack",headRoom:0.67,disabledOpacity:0.3,enableMouseWheel:!0}})(jQuery);
(function(b){b.extend(jQuery.easing,{easeOutCubic:function(a,b,c,e,g){return e*((b=b/g-1)*b*b+1)+c}});b.fn.addSwipe=function(a,d,c){c=b.extend({},b.fn.addSwipe.defaults,c);return this.each(function(){var e=b(this),g=0,h=0,f=0,l=0,k,n,q,t,u,p,w,m,r,j,z,x;e.attr("draggable","true");var s=function(a){a.touches&&0<a.touches.length?(g=a.touches[0].clientX,h=a.touches[0].clientY):a.clientX&&(g=a.clientX,h=a.clientY)},A=function(a){s(a);f=g;l=h},v=function(a){document.touchMode&&(a.preventDefault(),a.stopPropagation());
f?(s(a),x?e.css({left:g-f+k}):e.css({left:g-f+k,top:h-l+n})):A(a);return!1},B=function(){return!1},C=function(u){s(u);var r=(new Date).getTime()-q;u=g-f;document.touchMode?(e[0].ontouchmove=null,e[0].ontouchend=null):b(document).off("mousemove",v).off("mouseup click",C);m<t?Math.abs(u)<c.treshold?(x?e.animate({left:k},200):e.animate({left:k,top:n},200),e.trigger("click")):(x?e.animate({left:e.position().left+Math.round(333*(g-f)/r)},500,"easeOutCubic"):e.animate({left:e.position().left+Math.round(333*
(g-f)/r),top:e.position().top+Math.round(333*(h-l)/r)},500,"easeOutCubic"),0>u?b.isFunction(a)&&a.call():b.isFunction(d)&&d.call()):(x?e.animate({left:Math.minMax(j,e.position().left+Math.round(333*(g-f)/r),c.margin)},500,"easeOutCubic"):e.animate({left:Math.minMax(j,e.position().left+Math.round(333*(g-f)/r),c.margin),top:Math.minMax(z,e.position().top+Math.round(333*(h-l)/r),c.margin)},500,"easeOutCubic"),r=e.position().left,0>u?r+m<p&&b.isFunction(a)&&a.call():r>w&&b.isFunction(d)&&d.call());return!1},
F=function(a){if(("touchstart"===a.type||"touchmove"===a.type)&&(!a.touches||1<a.touches.length||e.is(":animated")))return!0;A(a);y(a)},y=function(a){e.stop(!0,!1);k=e.position().left;n=e.position().top;q=(new Date).getTime();t=e.parent().outerWidth();u=e.parent().outerHeight();p=t*(1-c.oversizeTreshold);w=t*c.oversizeTreshold;m=e.outerWidth();r=e.outerHeight();j=t-c.margin-m;z=u-c.margin-r;x=r<=u;if(document.touchMode)return e[0].ontouchmove=v,e[0].ontouchend=C,!0;e.off("click");e.click(B);b(document).on({mousemove:v,
mouseup:C});a.cancelBubble=!0;return!1};if(document.touchMode)e[0].ontouchstart=F;else e.on({dragstart:y,mousedown:A});e.on("dragcancel",function(){e.stop(!0,!1).animate({left:k,top:n},200);return!1});e.on("unswipe",function(){document.touchMode?(e[0].ontouchmove=null,e[0].ontouchend=null,e[0].ontouchstart=null):(b.isFunction(e.noAction)&&e.off(B),b.isFunction(e.dragStart)&&e.off(y),b(document).off("mousemove",v).off("mouseup",C))});e.on("selectstart",B)})};b.fn.addSwipe.defaults={treshold:40,oversizeTreshold:0.15,
margin:15}})(jQuery);
(function(b){b.fn.alignTo=function(a,d){d=b.extend({},b.fn.alignTo.defaults,d);"string"===typeof a&&(a=b(a));if(a instanceof b&&a.length){var c=a.offset(),e=a.outerWidth(),g=a.outerHeight(),h=b(window).width(),f=b(window).height();return b(this).each(function(){var a=b(this);a.css("maxHeight","none");var k=a.outerWidth(),n=a.outerHeight(),q=Math.round(c.left+d.toX*e/2+(d.toX-1)*d.gap),t=Math.round(c.top+d.toY*g/2+(d.toY-1)*d.gap),q=Math.round(q-d.posX*k/2),t=Math.round(t-d.posY*n/2);if(0>t||t+n>f)1!==
d.toX?t=2*t+n>f?f-n:0:0===d.toY?f>2*c.top+g&&(t=c.top+g+d.gap):2===d.toY&&f<2*c.top+g&&(t=Math.max(0,c.top-n-d.gap)),0>t&&(t=0),t+n>f&&a.css({overflow:"auto",maxHeight:f-t-(parseInt(a.css("paddingTop"),10)+parseInt(a.css("paddingBottom"),10))});if(0>q||q+k>h)1!==d.toY?q=2*q+k>h?h-k:0:0===d.toX?h>2*c.left+e&&(q=c.left+e+d.gap):2===d.toX&&h<2*c.left+e&&(q=Math.max(0,c.left-k-d.gap)),0>q&&(q=0),q+k>h&&a.css({overflow:"auto",maxWidth:h-q-(parseInt(a.css("paddingLeft"),10)+parseInt(a.css("paddingRight"),
10))});a.css({position:"absolute",left:q,top:t})})}};b.fn.alignTo.defaults={gap:5,posX:1,posY:2,toX:1,toY:0}})(jQuery);
(function(b){b.fn.addPlayer=function(a,d){a=b.extend({},b.fn.addPlayer.defaults,a);d=b.extend({},b.fn.addPlayer.text,d);var c=0<=navigator.userAgent.indexOf("Firefox")&&0<=navigator.platform.indexOf("Mac");if(typeof b.fn.jPlayer!==UNDEF){var e={cont:"jp-cont",mini:"jp-mini",audio:"jp-audio",video:"jp-video",playerType:"jp-type-single",player:"jp-jplayer",title:"jp-title",progress:"jp-progress",controls:"jp-controls-holder",startStop:"jp-startstop",volume:"jp-volume",times:"jp-times",toggles:"jp-toggles",
warning:"jp-warning",videoPlay:"jp-video-play",play:"jp-play",pause:"jp-pause",stop:"jp-stop",seekBar:"jp-seek-bar",playBar:"jp-play-bar",mute:"jp-mute",unmute:"jp-unmute",volumeBar:"jp-volume-bar",volumeBarValue:"jp-volume-bar-value",volumeMax:"jp-volume-max",currentTime:"jp-current-time",duration:"jp-duration",fullScreen:"jp-full-screen",restoreScreen:"jp-restore-screen",repeat:"jp-repeat",repeatOff:"jp-repeat-off",gui:"jp-gui",noSolution:"jp-no-solution",playing:"playing"},g=function(a){var b,
c=function(a){return'<a class="'+e[a]+'" title="'+d[a]+'">'+d[a]+"</a>"};b='<div class="'+e.progress+'"><div class="'+e.seekBar+'"><div class="'+e.playBar+'"></div></div></div>';b+='<div class="'+e.controls+'">';b+='<div class="'+e.startStop+'">'+c("play")+c("pause")+c("stop")+"</div>";b+='<div class="'+e.volume+'">'+c("mute")+c("unmute")+'<div class="'+e.volumeBar+'"><div class="'+e.volumeBarValue+'"></div></div></div>';b+='<div class="'+e.times+'"><div class="'+e.currentTime+'"></div><div class="'+
e.duration+'"></div></div>';b+='<div class="'+e.toggles+'">'+(a?"":c("fullScreen")+c("restoreScreen"))+c("repeat")+c("repeatOff")+"</div>";return b+"</div>"},h=function(){var a;(a=b(this).data("media"))&&a.jPlayer("pause");return!1},f=function(){var a;(a=b(this).data("media"))&&a.jPlayer("destroy");b(window).off("keydown",q);return!1},l=function(){var a;(a=b(this).data("media"))&&a.jPlayer("stop");return!1},k=function(){var a;(a=b(this).data("media"))&&a.jPlayer("play");return!1},n=b(this).eq(0),
q=function(a){return document.activeElement&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName)?!0:32===(a?a.keyCode:window.event.keyCode)?(n.find("."+e.player).jPlayer(n.data(e.playing)?"pause":"play"),!1):!0},t=function(b){return a.hasOwnProperty("audio")?a.audio:0<".mp3.m4a.f4a.rtmpa".indexOf(b.getExt())},u=function(a){var b=t(a)?"a":"v";switch(a.getExt()){case "mp3":a="mp3";break;case "mp4":a="m4"+b;break;case "ogg":a="og"+b;break;case "webm":a="webm"+b;
break;case "flv":case "f4a":case "f4v":a="fl"+b;break;case "rtmp":a="rtmp"+b;break;default:a=null}return a};return this.each(function(){var p=b(this),n,m,r,j=a.folder||"",z,x,s,A,v=0;a.elem?(A=b(this).find(a.elem),x=A.attr("href"),r=A.attr("title"),m=A.find("img:first"),m.length?(s=m.attr("src"),r||(r=m.attr("alt"))):s=r=""):(x=a.src,r=a.title||"",s=a.poster||"",A=b('<a href="'+x+'"'+(r?' title="'+r+'"':"")+">"+(s?'<img src="'+s+'">':"")+"</a>").appendTo(b(this)));if(LOCAL){var B=b('<div class="'+
e.warning+'">'+d.localFlashWarning+"</a></div>").appendTo(A);A.css("position","relative");B.hide();setTimeout(function(){B.fadeIn()},2E3)}if(x){a.auto&&(a.lowPriority||b("."+e.cont).each(function(){if(b(this).data(e.playing))return!0}));0<x.indexOf("::")?(x=x.split("::"),n=t(x[0]),m=u(x[0])):(n=t(x),m=u(x));this.id||(this.id=a.id+b.fn.addPlayer.id++);z="#"+this.id;b(p).addClass(e.cont);a.mini&&b(p).addClass(e.mini);!n&&a.fullScreen&&b(p).addClass(e.fullScreen);r=a.showTitle?r:"";var C=n;"absolute"!==
p.css("position")&&"fixed"!==p.css("position")&&p.css({position:"relative"});p.css({overflow:"hidden"});var F,y=b('<div class="'+(C?e.audio:e.video)+'"></div>').appendTo(p),y=b('<div class="'+e.playerType+'"></div>').appendTo(y);F=b('<div class="'+e.player+'"></div>').appendTo(y);y.append('<div class="'+e.videoPlay+'"><a>'+d.play+"</a></div>");r&&y.append('<div class="'+e.title+'"><ul><li>'+r+"</li></ul></div>");y.append('<div class="'+e.gui+'">'+g(C)+"</div>");y.find("."+e.gui+" a").attr("href",
NOLINK);!document.touchMode&&p.hasClass(e.fullScreen)&&y.find("."+e.gui).hide();p.append('<div class="'+e.noSolution+'">'+d.noSolution+"</div>");r=p.css("paddingTop");var C=p.css("paddingLeft"),y=p.css("paddingRight"),I=p.css("paddingBottom");p.find("."+e.gui).css({bottom:I,left:C,right:y});p.find("."+e.title).css({top:r,left:C,right:y});var K=function(){var c={},e,d,g=a.relativeUrl?"":location.href.substring(0,location.href.lastIndexOf("/")+1);b.isArray(x)?(v>=x.length&&(v=0),e=x[v]):(e=x,s&&(c.poster=
(g+j+s).fixUrl()));d=u(e);c[d]=(g+j+e).fixUrl();return c},E=function(){if(b.cookie){var a=p.find("."+e.currentTime).text().split(":"),a=2<a.length?60*(60*parseInt(a[0],10)+parseInt(a[1],10))+parseInt(a[2],10):60*parseInt(a[0],10)+parseInt(a[1],10);b.cookie("jp_"+p[0].id,(p.data(e.playing)?"1":"0")+"::"+a+"::"+F.jPlayer("option","volume").toString().substring(0,5)+(v!==UNDEF?"::"+v:""))}};b.cookie&&(r=b.cookie("jp_fs"),b(p).find("."+e.fullScreen).on("click",function(){b.cookie("jp_fs","on");return!0}),
b(p).find("."+e.restoreScreen).on("click",function(){b.cookie("jp_fs","off");return!0}),r&&(a.fullScreen="on"===r));r=!n&&!c;p.on("setEndedFn",function(c,e){a.ended=e&&b.isFunction(e)?e:null});F.jPlayer({cssSelectorAncestor:z,backgroundColor:a.backgroundColor,supplied:m,swfPath:a.resPath+"/"+a.swf,solution:a.solution,size:{width:"100%",height:"100%"},fullScreen:!n&&a.fullScreen,preload:"auto",loop:a.loop,volume:a.volume,autohide:{restored:r,full:r},ready:function(){var c=b(this),d;if(a.saveStatus)a:{if(b.cookie&&
(d=b.cookie("jp_"+p[0].id))){d=d.split("::");d={playing:"1"===d[0],time:parseInt(d[1]||0,10),volume:parseFloat(d[2]||0.8),curr:parseInt(d[4]||0,10)};break a}d=null}else d=null;p.data("media",c);a.saveStatus&&(b(window).on("unload",E),d&&(v=d.curr));var g=K();A&&A.hide();document.touchMode||n||!a.fullScreen?p.find("."+e.gui).show():p.find("."+e.gui).hide();c.jPlayer("setMedia",g);p.on({play:k,pause:h,stop:l,destroy:f});a.saveStatus&&d?(c.jPlayer("volume",d.volume),c.jPlayer(d.playing?"play":"pause",
d.time)):a.auto&&!document.touchMode&&c.jPlayer("play");if(!a.lowPriority)b(window).on("keydown",q)},play:function(){b(this).jPlayer("pauseOthers");p.data(e.playing,!0);document.touchMode&&settimeout(function(){p.find("."+e.title).fadeOut(1E3)},600)},pause:function(){p.data(e.playing,!1)},stop:function(){p.data(e.playing,!1);document.touchMode&&p.find("."+e.title).fadeIn(300)},ended:function(){b.isArray(x)&&(v+1<x.length||a.loop)?(v=(v+1)%x.length,b(this).jPlayer("setMedia",K()),a.auto&&b(this).jPlayer("play")):
(p.data(e.playing,!1),b.isFunction(a.ended)&&a.ended.call())}})}})}};b.fn.addPlayer.id=0;b.fn.addPlayer.defaults={id:"jp_container_",backgroundColor:"#000000",resPath:"",swf:"Jplayer.swf",relativeUrl:!1,solution:"html,flash",volume:0.8,auto:!1,loop:!1,keyboard:!0,lowPriority:!1,saveStatus:!1,mini:!1,fullScreen:!1,showTitle:!1,size:{width:"100%",height:"100%"}};b.fn.addPlayer.text={play:"play",pause:"pause",stop:"stop",mute:"mute",unmute:"unmute",fullScreen:"full screen",restoreScreen:"restore screen",
repeat:"repeat",repeatOff:"repeat off",localFlashWarning:"Local Flash playback is possibly blocked by Flash security rules. Test videos in the uploaded album!",noSolution:'<span>Unsupported media format</span>You might need to either update your browser or the <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a> or use another browser to play this media.'}})(jQuery);
(function(b){b.getLatLng=function(a){return typeof google===UNDEF||null==a?null:"string"===typeof a?(a=a.split(","),new google.maps.LatLng(parseFloat(a[0])||0,parseFloat(a[a.length-1])||0)):new google.maps.LatLng(a[0],a[1])};b.fn.addMap=function(a){if(typeof google===UNDEF||!google.maps)return this;a=b.extend({},b.fn.addMap.defaults,a);var d=a.resPath+"/marker-curr.png",c=a.resPath+"/marker.png",e=new google.maps.MarkerImage(d,new google.maps.Size(17,24),new google.maps.Point(0,0),new google.maps.Point(8,
24)),g=new google.maps.MarkerImage(c,new google.maps.Size(17,24),new google.maps.Point(0,0),new google.maps.Point(8,24)),h=new google.maps.MarkerImage(a.resPath+"/marker-shadow.png",new google.maps.Size(24,24),new google.maps.Point(0,0),new google.maps.Point(8,24));return this.each(function(){var f=b(this),l,k,n,q,t,u,p=[],w;f.readData(a,"type,zoom,map,label,resPath,markers");var m=function(){f.data("fresh")&&(f.is(":visible")&&!f.parents(":hidden").length&&f.width()&&f.height()?(clearTimeout(t),
f.width(f.parent().width()),google.maps.event.trigger(n,"resize"),n.setCenter(l),f.data("fresh",!1)):t=setTimeout(m,200))};q&&q.length&&q.remove();q=b("<div>").css({position:"absolute",top:"-9000px",width:f.width(),height:f.height()}).appendTo("body");f.data("fresh",!0).on({adjust:m,destroy:function(){n.getParentNode().removeChild(n);b(window).off("resize",m)}});if(a.markers&&a.markers.length&&null!=a.curr)l=a.markers[a.curr].map;else if(a.map)l=b.getLatLng(a.map),k=a.label;else return;if(null!==
(u=b.cookie("mapType")))a.type=u;if(null!==(u=b.cookie("mapZoom")))a.zoom=parseInt(u,10)||a.zoom;setTimeout(function(){var t,j=new google.maps.Map(q[0],{zoom:a.zoom,center:l,scrollwheel:!1,mapTypeId:a.type.toLowerCase()});google.maps.event.addListener(j,"maptypeid_changed",function(){b.cookie("mapType",b.fn.addMap.defaults.type=j.getMapTypeId(),3600)});google.maps.event.addListener(j,"zoom_changed",function(){b.cookie("mapZoom",b.fn.addMap.defaults.zoom=j.getZoom(),3600)});if(a.markers&&1<a.markers.length){var u,
m,s=Math.max(a.curr-a.range,0),A=Math.min(a.curr+a.range,a.markers.length),v=function(){a.click.call(this)};for(u=s;u<A;u++)m=a.markers[u],t={position:m.map,map:j,title:m.label,icon:u===a.curr?e:g,shadow:h,zIndex:u===a.curr?999:u},t=new google.maps.Marker(t),b.isFunction(a.click)&&m.link&&(t.link=m.link,google.maps.event.addListener(t,"click",v)),p.push(t)}else t=new google.maps.Marker(b.extend({position:l,map:j,title:k},d));q.css({top:0}).appendTo(f);n=j;w=a.curr;f.on("setactive",function(a,e){b.isArray(p)&&
p.length&&(w>=s&&(p[w].setIcon(c),p[w].setZIndex(w)),typeof e!==UNDEF&&e>=s&&e<s+p.length?(p[e-s].setIcon(d),p[e-s].setZIndex(9999),n.setCenter(p[e-s].position),w=e):w=-1)})},20);b(window).on("resize",function(){clearTimeout(t);f.data("fresh",!0);t=setTimeout(m,100)})})};b.fn.addMap.defaults={type:"roadmap",zoom:16,range:30,resPath:""}})(jQuery);
(function(b){b.fn.fullScreen=function(a){var b=function(a,b){b="FullScreen"===b&&"webkit"===VEND?VEND+"Is"+b:VEND&&VEND+b||b.substr(0,1).toLowerCase()+b.substr(1);return"function"===typeof a[b]?a[b]():a[b]};return typeof a===UNDEF?b(this[0],"FullScreen"):this.each(function(){var c=b(this,"FullScreen");a?c||b(this,"RequestFullScreen"):c&&b(this,"CancelFullScreen")})}})(jQuery);
var xDecrypt=function(b){if("String"===!typeof this)return"";var a=[147,163,87,254,153,4,198,23],d=b.length,c=5*Math.ceil(d/8),e=Array(c),g="",h,f=0,l,k;for(h=0;h<c;h++)e[h]=0;for(h=0;h<d;h++){if(9<(k=b.charCodeAt(h)-48))k-=7;k<<=11-f%8;l=Math.floor(f/8);l<c&&(e[l]|=k>>8,++l<c&&(e[l]|=k&255));f+=5}for(h=0;h<c;h++)e[h]^=a[h%8];c=e[0]|e[1]<<8;k=0;for(h=4;h<c;h++)g+=String.fromCharCode(e[h]),k+=e[h];k!=(e[2]&255|e[3]<<8)&&(g="");return g};
(function(b){b.fn.addShop=function(a){a=b.extend({},b.fn.addShop.defaults,a);var d={DE:"de_DE",FR:"fr_FR",IT:"it_IT",ES:"es_ES",PT:"pt_PT",PT:"pt_BR",DA:"da_DK",NL:"nl_NL",NO:"no_NO",SV:"sv_SE",TR:"tr_TR",RU:"ru_RU",PL:"pl_PL",IL:"he_IL",TH:"th_TH"};b.fn.addInput=function(a,d,g,h){var f;return!a||null==d?this:this.each(function(){f=b("<input>",{type:g||"text"}).appendTo(b(this));f.prop("name",a);f.addClass(a);f.val("string"===typeof d?d.stripQuote():d);h&&f.prop(h,!0)})};b.fn.addSelect=function(a,
d,g){return!a.length?this:this.each(function(){for(var h=b(this),h=b("<select>").appendTo(h),f=0;f<a.length;f++)h.append(b("<option>",{val:a[f].val,html:a[f].key+" ("+d+" "+a[f].val+")"}));b.isFunction(g)&&h.change(g)})};return this.each(function(){var c=b(this),e,g,h;c.readData(a,"gateway,id,currency,handling,options,file");if(!(null==a.id||null==a.options||null==a.file)){for(var f="paypal"===a.gateway?{form:"paypal",seller:"business",currency:"currency_code",title:"item_name",select:"item_number",
price:"amount",copies:"quantity",discount:"discount_rate",shipprice:"shipping",shipprice2:"shipping2",handling:"handling_cart",shopUrl:"shopping_url"}:{form:"google_checkout",currency:"item_currency_1",title:"item_name_1",select:"item_description_1",price:"item_price_1",copies:"item_quantity_1",shipmethod:"ship_method_name_1",shipprice:"ship_method_price_1",shipcurrency:"ship_method_currency_1"},l=("+"===a.options?b.fn.addShop.defaults.options:a.options).split("::"),k,n=[],q=0;q<l.length;q++)k=l[q].split("="),
1<k.length&&n.push({key:k[0],val:k[1]});if(n.length){a.id=a.id.replace("|","@");a.hasOwnProperty("discount")||(a.discount=b.fn.addShop.defaults.discount||0);if("paypal"!==a.gateway||"-"===a.discount)a.discount=0;var t=function(c){var d=g.children("[name^="+f.shipprice+"]");null===c||!1===c||!b.isNumeric(c)?"paypal"===a.gateway?d.remove():d.val(0):d.length?d.val(c):"paypal"===a.gateway&&(g.addInput(f.shipprice,c,"hidden"),a.shippingFlat||g.addInput(f.shipprice2,c,"hidden"))},u=function(b){"float"!==
typeof b&&(b=parseFloat(b));a.discount&&(b=Math.round(b*(100-a.discount))/100);return b.toFixed(2)},l=function(){var b=e.length?e.children("select").eq(0):!1;if(b&&b.length){var c,b=b.val().split("+"),d=e.children("[name=copies]").val()||1;a.quantityCap&&d>a.quantityCap&&e.children("[name=copies]").val(d=a.quantityCap);(c=e.children("[name=total]"))&&c.val(u(b[0]*d));(c=g.children("[name="+f.price+"]"))&&c.val(b[0]);(c=g.children("[name="+f.copies+"]"))&&c.val(d);t(1<b.length?b[1]:null);(c=g.children("[name="+
f.select+"]"))&&c.val(e.find("option:selected").text())}};e=b("<form>",{name:"shopping",method:"post"}).appendTo(c);e.addSelect(n,a.currency,l);a.discount&&100>a.discount&&e.append(b("<span>",{"class":"discount",text:"-"+a.discount+"%"}));1!==a.quantityCap&&e.append("x").addInput("copies",1);e.append("=").addInput("total",u(n[0].val.split("+")[0]),"text","readonly");e.children("[name=copies]").css({width:"2em"}).change(l);e.children("[name=total]").css({width:"5em"});e.append(a.currency);"paypal"===
a.gateway?(h=n[0].val.split("+"),l=d.hasOwnProperty(a.locale)?d[a.locale]:"en_US",g=b("<form>",{name:f.form,target:a.continueUrl?"_blank":a.target,action:"https://www.paypal.com/cgi-bin/webscr/",method:"post"}).appendTo(c),g.addInput("cmd","_cart","hidden"),g.addInput("add",1,"hidden"),g.addInput(f.seller,a.id,"hidden"),g.addInput(f.copies,1,"hidden"),g.addInput(f.price,h[0],"hidden"),a.discount&&100>a.discount&&g.addInput(f.discount,a.discount,"hidden"),g.addInput(f.currency,a.currency,"hidden"),
t(1<h.length?h[1]:null),null!=a.handling&&b.isNumeric(a.handling)&&g.addInput(f.handling,a.handling,"hidden"),g.addInput(f.title,decodeURIComponent(a.file+" :: "+a.path),"hidden"),g.addInput(f.select,n[0].key+" ("+a.currency+" "+n[0].val+")","hidden"),g.addInput(f.shopUrl,a.continueUrl||decodeURIComponent(window.location.href),"hidden"),g.addInput("charset","utf-8","hidden"),g.addInput("lc",a.locale,"hidden"),g.append(b("<input>",{id:"shopAdd",type:"image",name:"submit",src:"https://www.paypal.com/"+
l+"/i/btn/btn_cart_SM.gif",alt:"Add to Cart"})),h=b("<form>",{"class":"view",name:"paypalview",target:a.target,action:"https://www.paypal.com/cgi-bin/webscr/",method:"post"}).appendTo(c),h.addInput("cmd","_cart","hidden"),h.addInput("display",1,"hidden"),h.addInput(f.seller,a.id,"hidden"),h.addInput("lc",a.locale,"hidden"),h.append(b("<input>",{id:"shopView",type:"image",name:"submit",src:"https://www.paypal.com/"+l+"/i/btn/btn_viewcart_SM.gif",alt:"View Cart"}))):"google"===a.gateway&&(l=a.id.match(/(\d+)/)[0],
g=b("<form>",{name:f.form,target:a.target,action:"https://checkout.google.com/cws/v2/Merchant/"+l+"/checkoutForm",method:"post","accept-charset":"utf-8"}).appendTo(c),g.addInput(f.title,decodeURIComponent(a.file+" :: "+a.path),"hidden"),g.addInput(f.select,n[0].key,"hidden"),g.addInput(f.copies,1,"hidden"),g.addInput(f.price,n[0].val.split("+")[0],"hidden"),g.addInput(f.currency,a.currency,"hidden"),null!=a.shipping&&b.isNumeric(a.shipping)&&(g.addInput(f.shipmethod,"normal","hidden"),g.addInput(f.shipprice,
a.shipping,"hidden"),g.addInput(f.shipcurrency,a.currency,"hidden")),g.addInput("_charset_","","hidden"),g.append(b("<input>",{id:"shopAdd",type:"image",name:"Google Checkout",alt:"Fast checkout through Google",src:"http://checkout.google.com/buttons/checkout.gif?merchant_id="+l+"&w=160&h=43&style=trans&variant=text&loc=en_US",height:43,width:160})));g.add(h).find("input[name=submit]").on("submit",function(){window.open("",a.target,"width=960,height=600,scrollbars=yes,resizable=yes,menubar=no,toolbar=no,directories=no,status=no,copyhistory=no");
return!0})}}})};b.fn.addShop.defaults={target:"ShoppingCart",currency:"EUR",gateway:"paypal",locale:"US",quantityCap:0,shippingFlat:!1}})(jQuery);
(function(b){b.fn.addSocial=function(a){a=b.extend({},b.fn.addSocial.defaults,a);var d=window.location.href.split("#")[0]+(a.useHash?"#"+encodeURIComponent(a.hash||""):""),c=encodeURIComponent(window.location.href.split("#")[0]+(a.useHash?"#"+encodeURIComponent(a.hash||""):"")),e=encodeURIComponent(a.title||b("meta[name=title]").attr("content")||b("title").text()),g=encodeURIComponent(a.callTxt),h=a.image?window.location.href.getDir()+a.image:b("link[rel=image_src]").attr("href");return this.each(function(){var f=
b(this);"a"===this.nodeName&&f.attr("href",NOLINK);var l=b("<div>",{"class":a.id}).hide();if(LOCAL&&!DEBUG)l.html(a.localWarning);else{a.facebookLike&&!a.useHash&&l.append('<div class="likebtn"><iframe src="http://www.facebook.com/plugins/like.php?href='+d+"&amp;layout=button_count&amp;show_faces=false&amp;width=110&amp;action=like&amp;font=arial&amp;colorscheme="+a.likeBtnTheme+'&amp;height=20" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:120px; height:20px;" allowTransparency="true"></iframe></div>');
a.twitterTweet&&!a.useHash&&l.append('<div class="likebtn"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url='+d+"&text="+e+'" style="width:120px; height:20px;"></iframe></div>');if(a.googlePlus&&!a.useHash){b('<div class="g-plusone likebtn" data-size="medium" data-annotation="inline" data-href="'+d+'" data-width="120"></div>').appendTo(l);var k=20,n=function(){typeof gapi===UNDEF?k--?setTimeout(n,200):typeof console!==UNDEF&&
console.log("Google Plus API failed to load!"):gapi.plusone.go()};n()}a.tumblrBtn&&l.append('<div class="likebtn" id="tumblr"><a href="http://www.tumblr.com/share/'+(a.image?"photo?source=":"link?url=")+encodeURIComponent(d)+"&name="+e+'" title="Share on Tumblr" style="display:inline-block; text-indent:-9999px; overflow:hidden; width:120px; height:20px; background:url(http://platform.tumblr.com/v1/share_1.png) top left no-repeat transparent;">Tumblr</a></div>');a.pinItBtn&&!a.useHash&&l.append('<div class="likebtn" style="height:21px;"><a data-pin-config="beside" href="//pinterest.com/pin/create/button/?url='+
c+"&media="+encodeURIComponent(h)+"&description="+e+'" data-pin-do="buttonPin" ><img src="http://assets.pinterest.com/images/pidgets/pin_it_button.png" /></a></div>');a.facebook&&l.append('<a href="http://www.facebook.com/sharer.php?s=100&p%5Burl%5D='+c+"&p%5Bimages%5D%5B0%5D="+encodeURIComponent(h)+"&p%5Btitle%5D="+e+'" class="facebook">Facebook</a>');a.twitter&&l.append('<a href="http://twitter.com/home?status='+g+": "+c+'" class="twitter">Twitter</a>');a.gplus&&l.append(b("<a>",{"class":"gplus",
href:"https://plus.google.com/share?url="+c,title:"Share on Google+",text:"Google+"}).on("click",function(){window.open(this.href,this.title,"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=760,width=980");return!1}));a.digg&&l.append('<a href="http://digg.com/submit?url='+d+'" class="digg">Digg</a>');a.delicious&&l.append('<a href="http://delicious.com/save?url='+d+"&title="+e+'&v=5" class="delicious">Delicious</a>');a.myspace&&l.append('<a href="http://www.myspace.com/index.cfm?fuseaction=postto&t='+
e+"&u="+d+'&l=3" class="myspace">MySpace</a>');a.stumbleupon&&l.append('<a href="http://www.stumbleupon.com/submit?url='+d+"&title="+e+'" class="stumbleupon">StumbleUpon</a>');a.reddit&&l.append('<a href="http://www.reddit.com/submit?url='+d+'" class="reddit">Reddit</a>');l.children("a").attr("target","_blank");a.email&&l.append('<a href="mailto:?subject='+g+"&body="+e+"%0D%0A"+d.replace(/%/g,"%25")+'" class="email">Email</a>')}f.addHint(l.appendTo("body"),a.pos).on("destroy",function(){l.remove()})})};
b.fn.addSocial.defaults={id:"shares",useHash:!0,likeBtnTheme:"light",facebookLike:!0,twitterTweet:!0,googlePlus:!0,tumblrBtn:!0,facebook:!0,twitter:!0,gplus:!0,digg:!0,delicious:!0,myspace:!0,stumbleupon:!0,reddit:!0,email:!0,callTxt:"Found this page",pos:{posX:1,posY:2,toX:1,toY:0},localWarning:"Can't share local albums. Please upload your album first!"}})(jQuery);
(function(b){b.fn.readData=function(a,d){if(null==a||null==d)return this;d=d.split(",");var c,e=d.length,g;return this.each(function(){for(c=0;c<e;c++)if(null!=(g=b(this).data(d[c])))a[d[c]]=g})};b.fn.showin=function(){return this.each(function(){b(this).css("display","inline-block")})};b.fn.togglein=function(){return this.each(function(){b(this).css("display",b(this).is(":visible")?"inline-block":"none")})};b.fn.getDim=function(){var a=b(this).eq(0),d={width:a.width(),height:a.height()};if((0===
d.width||0===d.height)&&"none"===a.css("display")){var c=a.css("position"),e=a.css("left");a.css({position:"absolute",left:"-10000px",display:"block"});d.width=a.width();d.height=a.height();a.css({display:"none",position:c,left:e})}return d};typeof Search!==UNDEF&&(Search.start=function(a){if(null!=a){var d="string"===typeof a||b.isNumeric(a)?String(a):"FORM"===a.nodeName?b(a).find("input[type=search]").val().trim():b(a).text().trim(),c,e=0,g,h,f,l=!1,k,n,q,t,u,p,w,m,r,j,z;if(Search.data&&b.isArray(Search.data)&&
Search.data.length&&d&&!(2>d.length)){c=b("<div>",{"class":"searchresults"});d.startsWith("@new")?(l=!0,f=Math.round((new Date).getTime()/864E5),h=parseInt(d.split(":")[1],10)||30):z=RegExp("("+d.replace(/\s/g,"|")+")","i");c.append('<form><input type="text" value="'+d+'"><a class="button">&nbsp;</a></form>');k=function(){var a=b(this).closest("form").children("input:first").val().trim();2<=a.length&&Search.start(a);return!1};c.find("a.button").on("click",k);c.find("form").on("submit",k);w=Search.rootPath&&
"."!==Search.rootPath?Search.rootPath+"/":"";var x=function(a){var c=b(a.target).closest("a");if(!c.length||!window.location.href.endsWith(c.attr("href")))return b.cookie("lastSearch",d,8),!0;a.cancelBubble=!0;return!1};for(k=0;k<Search.data.length;k++){p=w+(Search.data[k][0].length?Search.data[k][0]+"/":"");t=Search.data[k][1].length;for(n=0;n<t;n++)if(m=Search.data[k][1][n].split(Search.sep),l&&5<m.length&&f-parseInt(m[5],10)<h||!l&&z.test(Search.data[k][1][n])){q=m[0].split(":");j=q[0].getExt();
r=1<q.length?q[1]:q[0].substring(q[0].lastIndexOf(".")+1);u=encodeURIComponent(q[0]);switch(j.toLowerCase()){case Search.ext:q=p+Search.folderThumb;break;case "tif":case "bmp":Search.makeSlides||(u=u.replaceExt(r));case "jpg":case "jpeg":case "png":case "mp4":q=p+Search.thumbs+"/"+u.replaceExt(r);break;case "mp3":q="png"===r?w+"res/audio.png":p+Search.thumbs+"/"+u.replaceExt(r);break;case "gif":u=u.replaceExt(r);q=p+Search.thumbs+"/"+u;break;case "pdf":case "zip":case "txt":case "doc":case "xls":q=
w+"res/"+j+".png";break;default:q=w+"res/unknown.png"}j===Search.ext?(u=p+u,q=p+Search.folderThumb):u=p+(Search.makeSlides?Search.slides+"/"+u.replaceExt(Search.ext):Search.indexName+"#"+(Search.urlEncode?u.replace(/\'/g,"%27").replace(/%/g,"%25").replace(/\(/g,"%2528").replace(/\)/g,"%2529"):u));u=b("<a>",{href:u.fixUrl()}).append(b("<aside>").append(b("<img>",{src:q}))).on("click",x).appendTo(c);m[1]&&u.append(b("<h5>").append(m[1]));m[2]&&m[2]!==m[1]&&u.append(b("<p>").append(m[2].trunc(192)));
for(q=3;q<m.length-1;q++)m[q]&&m[q].trim().length&&u.append(b("<p>").append(m[q].trunc(192)));window.location.hash===m[0]&&(g=e);e++}}a.jQuery&&b(a).parents(".hint:first").fadeOut(100,function(){b(this).remove()});e?setTimeout(function(){b(".searchresults > a").eq(g||0).focus()},250):c.append(b("<p>",{text:Search.text.notFound}));b("body").addModal(c,{uid:"searchres",darkenBackground:!1,title:Search.text.title});return!1}}},Search.rootPath="",Search.init=function(a){Search.rootPath=a;if((a=b.cookie("lastSearch"))&&
a.length&&"null"!==a)b.cookie("lastSearch",null),Search.start(a)});b.fn.addRegions=function(a,d,c){if(a&&a.length&&d){c=b.extend({},b.fn.addRegions.defaults,c);var e=[],g,h,f,l,k,n=d.split("::");for(d=0;d<n.length;d++)g=n[d].split(";"),4<g.length&&(g[0].length&&null!==(h=parseFloat(g[1]))&&null!==(f=parseFloat(g[2]))&&null!==(l=parseFloat(g[3]))&&null!==(k=parseFloat(g[4])))&&e.push([g[0],100*h+"%",100*f+"%",100*l+"%",100*k+"%"]);return!e.length?this:this.each(function(){var d=b(this),g,f;g=parseInt(d.css("padding-top"),
10);"a"===this.nodeName&&d.attr("href",NOLINK);for(var h=b("<div>",{"class":c.id}).hide(),l=b("<div>",{"class":c.id+"-cont"}).css({left:g,top:g,right:g,bottom:g}),k=function(a){Search.start(a.target);return!1},n=function(a){l.children("a").eq(b(a.target).index()).addClass(c.active)},j=function(a){l.children("a").eq(b(a.target).index()).removeClass(c.active)},z=0;z<e.length;z++)if(g=b('<a href="'+NOLINK+'">'+e[z][0]+"</a>").appendTo(h),f=b("<a>").css({left:e[z][1],top:e[z][2],width:e[z][3],height:e[z][4]}).append(b("<span>",
{text:e[z][0]})).appendTo(l),g.on({mouseover:n,mouseout:j}),typeof Search!==UNDEF)f.on("click",k);d.addHint(h.appendTo("body"),c.pos).on("destroy",function(){h.remove()});d.hasClass(c.active)&&l.addClass(c.active);d.on("click",function(){b(this).add(l).toggleClass(c.active)});a.append(l)})}};b.fn.addRegions.defaults={id:"regions",active:"active",pos:{posX:1,posY:2,toX:1,toY:0}};b.fn.centerThis=function(a){a=b.extend({},b.fn.centerThis.defaults,a);return this.each(function(){var d=b(this),c=d.find(a.selector);
if(c.length){var e,g,h,f,l,k=a.marginLeft+a.padding;e=a.marginRight+a.padding;var n=a.marginTop+a.padding,q=a.marginBottom+a.padding;g=c.data("ow");h=c.data("oh");if(!g||!h)c.data("ow",g=c.width()),c.data("oh",h=c.height());if(!(f=c.data("bw")))c.data("bw",f=parseInt(c.css("border-top-width"),10)||0);if(!(l=c.data("pw")))c.data("pw",l=parseInt(c.css("padding-top"),10)||0);e=(d.innerWidth()||b("body").width())-2*(f+l)-k-e;d=(d.innerHeight()||b("body").height())-2*(f+l)-n-q;if(a.fit&&(g>e||h>d||a.enlarge))f=
Math.min(e/g,d/h),g=Math.round(g*f),h=Math.round(h*f);f=Math.round((e-g)/2)+k;l=Math.round((d-h)/2)+n;if(a.animate){c.stop(!0,!1);if(a.preScale&&1!==a.preScale){var q=g*a.preScale,t=h*a.preScale;c.css({left:Math.round((e-q)/2)+k,top:Math.round((d-t)/2)+n,width:Math.round(q),height:Math.round(t)})}else a.init&&c.css({left:f,top:l});c.animate({left:f,top:l,width:g,height:h},{duration:a.speed,easing:a.effect,complete:a.complete})}else c.css({left:f,top:l,width:g,height:h}),b.isFunction(a.complete)&&
a.complete.call(this)}})};b.fn.centerThis.defaults={selector:".main",speed:500,fit:!0,enlarge:!0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,padding:0,init:!1,animate:!1,effect:"swing",complete:null};b.fn.collectMarkers=function(a){a=b.extend({},b.fn.collectMarkers.defaults,a);var d=[],c,e,g;this.each(function(h){c=b(this).find(a.selector);if(c.length&&(e=c.data(a.mapid))&&(e=b.getLatLng(e)))g=c.data(a.captionid)||c.attr("alt"),d.push({map:e,label:h+1+(g?": "+g.stripHTML():""),link:a.dynamic?
b(this):b(this).attr("href")})});return d};b.fn.collectMarkers.defaults={selector:"img:first",mapid:"map",captionid:"caption"};b.fn.markFoldersNew=function(a){a=b.extend({},b.fn.markFoldersNew.defaults,a);if(a.days){var d=Math.round((new Date).getTime()/864E5);return this.each(function(){d-parseInt(b(this).data("modified")||0,10)<=a.days&&b(this).after('<span class="'+a.cls+'">'+a.text+"</span>")})}};b.fn.markFoldersNew.defaults={days:7,cls:"newLabel",text:"NEW"};b.fn.turtleHelp=function(a,d){a=b.extend({},
b.fn.turtleHelp.defaults,a);d=b.extend({},b.fn.turtleHelp.texts,d);var c,e,g,h=b('<div class="help"></div>');for(e in d)if(d.hasOwnProperty(e)){g=b('<ul class="'+e+'"></ul>').appendTo(h);for(c=0;c<d[e].length;c++)g.append(b("<li><span>"+(c+1)+"</span>"+d[e][c]+"</li>"))}a.pressF1&&h.append(b("<p>"+a.pressF1+"</p>"));var f=function(){b("body").addModal(h,{uid:"help",title:a.title,width:720})};if(a.useF1&&!document.touchMode)b(document).on("keydown",function(c){return document.activeElement&&"INPUT"===
document.activeElement.nodeName||b.isFunction(a.enableKeyboard)&&!a.enableKeyboard()||b("#help:visible").length?!0:112===(c?c.keyCode:window.event.keyCode)?(f(),!1):c.returnValue=!0});return this.each(function(){b(this).on("click",function(){f();return!1})})};b.fn.turtleHelp.defaults={useF1:!0,help:"Using Turtle gallery",pressF1:"Press <b>F1</b> any time to get help!"};b.fn.turtleHelp.texts={};b.fn.turtle=function(a,d,c){a=b.extend({},b.fn.turtle.defaults,a);d=b.extend({},b.fn.turtle.texts,d);c=b.extend({},
b.fn.turtle.ids,c);for(var e=function(c,d,e){b.cookie(c,d,e);a[c]=d},g="thumbsOn infoOn commentsOn metaOn mapOn regionsOn shopOn shareOn printOn fitImage slideshowDelay slideshowOn".split(" "),h,f=0;f<g.length;f++)if(null!==(h=b.cookie(g[f])))a[g[f]]=h;document.touchMode&&(a.preScale=!1);b.fn.addScroll.defaults.dontDrag="#"+c.map;b.fn.addMap.defaults.zoom=a.mapZoom;b.fn.addMap.defaults.type=a.mapType;b.fn.addMap.defaults.resPath=a.resPath;b.fn.addShop.defaults.gateway=a.shopGateway;b.fn.addShop.defaults.id=
a.shopId;b.fn.addShop.defaults.path=(a.albumName?a.albumName+"/":"")+a.relPath;b.fn.addShop.defaults.currency=a.shopCurrency||"EUR";b.fn.addShop.defaults.handling=a.shopHandling||null;b.fn.addShop.defaults.locale=a.shopLocale||"US";b.fn.addShop.defaults.quantityCap=a.shopQuantityCap||0;b.fn.addShop.defaults.discount=a.shopDiscount||0;b.fn.addShop.defaults.options=a.shopOptions||"";b.fn.addShop.defaults.coupons=a.shopCoupons||"";a.shopContinueUrl&&(b.fn.addShop.defaults.continueUrl=a.shopContinueUrl.match(/^https?:/i)?
a.shopContinueUrl:window.location.origin+a.shopContinueUrl);b.fn.addPlayer.defaults.backgroundColor=b("body").css("background-color").rgb2hex();a.linkSlides||(b.fn.addPlayer.defaults.fullScreen=a.videoMaximize,b.fn.addPlayer.defaults.auto=a.videoAuto,b.fn.addPlayer.defaults.solution=a.prioritizeFlash?"flash,html":"html,flash");b.fn.centerThis.defaults.fit=a.fitImage;b.fn.centerThis.defaults.animate=a.transitions;b.fn.centerThis.defaults.padding=a.fitPadding;b.fn.centerThis.defaults.enlarge=!a.fitShrinkonly;
b.fn.centerThis.defaults.selector="."+c.main;var g=a.shares,l;for(l in g)g.hasOwnProperty(l)&&(b.fn.addSocial.defaults[l]=g[l]);b.fn.addSocial.defaults.callTxt=d.checkOutThis;a.shareSlides=a.shares&&(a.shares.facebookLike||a.shares.twitter||a.shares.gplus||a.shares.pinterest||a.shares.digg||a.shares.delicious||a.shares.myspace||a.shares.stumbleupon||a.shares.reddit||a.shares.email);var k=Math.round((new Date).getTime()/864E5),n="ms"===VEND&&Modernizr&&!1===Modernizr.opacity;return this.each(function(){var g,
f,h,l,w,m,r,j={},z,x,s=null,A=null,v=0,B=null,C=null,F="index"===b("body").attr("id"),y=F&&!a.linkSlides,I=[],K=!1,E=!1,L=null,Y=null,S=b(window).width(),T=b(window).height(),Aa=function(){clearTimeout(Y);Y=setTimeout(function(){var c=b(window).width(),d=b(window).height();if(c!==S||d!==T)s&&s.centerThis({fit:a.fitImage,marginTop:O(),marginBottom:P()}),S=c,T=d},100)},Ba=-1,ra=-1,Z=function(){if(!a.licensee&&(typeof _jaShowAds===UNDEF||_jaShowAds)&&!LOCAL&&!b.cookie("ls")){var c=a.resPath+"/logo.png";
b(new Image).load(function(){var a=b("<div>").css({background:"url("+c+") 10px top no-repeat",textAlign:"left",minHeight:"60px",paddingLeft:"90px"}).html("<h4>Turtle skin <small>"+VER+"</small></h4><p>Unlicensed</p>");b("body").addModal(a,{width:240,autoFade:600});b.cookie("ls",!0)}).attr("src",c)}},ea=function(c){if(h&&h.is(":visible")||document.activeElement&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName)||b.isFunction(a.enableKeyboard)&&!a.enableKeyboard())return!0;
switch(c?c.keyCode:window.event.keyCode){case 13:case 10:y?D():window.location.href=g.eq(v).attr("href");break;case 37:v=(v?v:g.length)-1;J();break;case 38:v&&a.cols&&(v=Math.max(0,v-a.cols));J();break;case 39:v=(v+1)%g.length;J();break;case 40:v<g.length-1&&a.cols&&(v=Math.min(g.length-1,v+a.cols));J();break;case 97:case 35:v=g.length-1;J();break;case 103:case 36:v=0;J();break;case 106:case 179:a.slideshowFullScreen&&(E=!1,b("html").fullScreen(!0));y&&D();M();break;default:return c.returnValue=!0}return!1},
Ca=function(d){if(h.is(":hidden")||document.activeElement&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName)||b.isFunction(a.enableKeyboard)&&!a.enableKeyboard())return!0;switch(d?d.keyCode:window.event.keyCode){case 27:aa();break;case 37:d=b("."+c.main);var e=b("."+c.img);d.length&&(d.position().left>=a.fitPadding?la():(e=Math.round(0.8*e.width()),d.animate({left:Math.min(d.position().left+e,a.fitPadding)},a.scrollDuration)));break;case 38:d=b("."+c.main);
e=b("."+c.img);d.length&&!(d.position().top>a.fitPadding)&&(e=Math.round(0.8*e.width()),d.animate({top:Math.min(d.position().top+e,a.fitPadding)},a.scrollDuration));break;case 39:d=b("."+c.main);e=b("."+c.img);if(d.length)if(d.position().left+d.outerWidth()<=e.width()-a.fitPadding)N();else{var f=Math.round(0.8*e.width());d.animate({left:Math.max(d.position().left-f,e.width()-a.fitPadding-d.outerWidth())},a.scrollDuration)}break;case 40:d=b("."+c.main);e=b("."+c.img);d.length&&!(d.position().top+d.outerHeight()<=
e.height()-a.fitPadding)&&(f=Math.round(0.8*e.width()),d.animate({top:Math.max(d.position().top-f,e.height()-a.fitPadding-d.outerHeight())},a.scrollDuration));break;case 97:case 35:y?D(g.length-1):window.location.href=a.firstPage;break;case 103:case 36:y?D(0):window.location.href=a.firstPage;break;case 106:case 179:B?G():(a.slideshowFullScreen&&(E=!1,b("html").fullScreen(!0)),M());break;case 107:a.fitImage?ma():na();break;case 109:d=a.fitFreespace;a.fitFreespace=!1;a.infoOn||a.thumbsOn?(sa(),ta(),
s&&d&&s.centerThis({fit:a.fitImage,marginTop:0,marginBottom:0})):(ua(),va(),s&&d&&s.centerThis({fit:a.fitImage,marginTop:z.outerHeight()||0,marginBottom:r.outerHeight()||0}));a.fitFreespace=d;break;default:return d.returnValue=!0}return!1},oa=function(){(0<a.level?window:parent).location.href=F?a.uplink||"../":"../"+(a.indexPage||"../")},aa=function(){y||(b.cookie("curr:"+a.albumName+"/"+a.relPath,a.curr,600),window.location.href=a.indexPage);if(!a.skipIndex||a.level||a.uplink){var d=b("[role=main]"),
e;h.is(":visible")?(G(),a.slideshowFullScreen&&b("html").fullScreen(!1),a.skipIndex?oa():(d.length&&d.is(":hidden")&&(d.children().andSelf().css({visibility:"visible",display:"block"}),f.children("."+c.cont).trigger("adjust"),setTimeout(function(){f.loadImages()},100)),a.transitions?h.fadeOut(a.speed):h.hide(),s&&(e=s.find("."+c.video+",."+c.audio)).length&&e.trigger("pause"),b("#"+c.map+">."+c.cont).trigger("adjust"),"no"!==a.hash&&b.history.load(""))):d.length&&d.is(":hidden")&&(d.children().andSelf().css({visibility:"visible",
display:"block"}),setTimeout(function(){f.loadImages()},100));d.find("[role=scroll]").data("dragOn",!1)}},Da=function(){var a=g.eq(v).children("img:first");return a.length?(a.data(c.link)||a.data(c.src)).getFile():null},J=function(d){var e=g.eq(v);g.filter("."+c.active).removeClass(c.active);e.addClass(c.active);!a.skipIndex&&(typeof d===UNDEF||!1===d)&&e.trigger("setactive");x&&(x.filter("."+c.active).removeClass(c.active),x.eq(v).addClass(c.active).trigger("setactive"));a.mapOnIndex&&b("#"+c.map+
" ."+c.cont).trigger("setactive",e.find("img:first").data(c.mapid));b.cookie("curr:"+a.albumName+"/"+a.relPath,v,600)},Ea=function(){b.cookie("curr:"+a.albumName+"/"+a.relPath,null)},Na=function(d){var e,f;if(f=d)if(f=d.length){if("number"===a.hash)d=(parseInt(d,10)||1)-1;else a:{var h;for(f=0;f<g.length;f++)if(h=g.eq(f).children("img:first"),(h=h.length&&(h.data(c.link)||h.data(c.src)).getFile())&&h===d){d=f;break a}d=-1}f=0<=(e=d)&&e<g.length}f?(D(e),a.slideshowAuto=!1):(aa(),"ms"==VEND&&setTimeout(function(){b("[role=main]").show();
b("[role=scroll]").trigger("adjust")},10))},la=function(){G();if(y)v?D(v-1):"startover"===a.afterLast?D(g.length-1):s.find("."+c.main).trigger("dragcancel");else{var d=b("."+c.controls+" ."+c.prev);d.length&&(d=d.attr("href"))!==NOLINK?window.location.href=d:s.find("."+c.main).trigger("dragcancel")}},N=function(f){var h=[];if(y)if(v<g.length-1)f?wa():G(),D(v+1);else if("startover"===a.afterLast||B&&a.slideshowLoop)f?wa():G(),D(0);else{Ea();if("onelevelup"===a.afterLast){if(a.uplink){oa();return}}else if("backtoindex"===
a.afterLast){if(!a.skipIndex){aa();return}}else"ask"===a.afterLast&&(G(),h.push({t:d.startOver,h:function(){D(0)}}),a.uplink&&h.push({t:0<a.level?d.upOneLevel:d.homepageLinkText||d.backToHome,h:function(){oa()}}),a.skipIndex||h.push({t:d.backToIndex,h:function(){aa()}}),a.nextFoldersFirst&&h.push({t:d.nextFolder,h:function(){window.location.href=a.nextFoldersFirst}}),b("body").addModal(b("<p>",{text:d.atLastPageQuestion}),h,{uid:"dialog",title:d.atLastPage,width:480,resizable:!1,savePosition:!1}));
s.find("."+c.main).trigger("dragcancel")}else{var j=b("."+c.controls+" ."+c.next);j.length&&(j=j.attr("href"))&&j.length&&j!==NOLINK?(e("slideshowDelay",a.slideshowDelay),B&&e("slideshowOn",f,8),window.location.href=j):"ask"===a.afterLast&&(G(),Ea(),a.firstPage&&h.push({t:d.startOver,h:function(){B&&e("slideshowOn",null!=B,8);window.location.href=a.firstPage}}),a.uplink&&h.push({t:0<a.level?d.upOneLevel:d.homepageLinkText||d.backToHome,h:function(){oa()}}),a.indexPage&&h.push({t:d.backToIndex,h:function(){window.location.href=
a.indexPage}}),a.nextFoldersFirst&&h.push({t:d.nextFolder,h:function(){window.location.href=a.nextFoldersFirst}}),b("body").addModal(b("<p>",{text:d.atLastPageQuestion}),h,{uid:"dialog",title:d.atLastPage,width:480,resizable:!1,savePosition:!1}));s.find("."+c.main).trigger("dragcancel")}},Fa=function(){C&&(C=clearTimeout(B),B=setTimeout(function(){N(!0)},300))},wa=function(){B&&(clearTimeout(B),B=setTimeout(function(){N(!0)},a.slideshowDelay))},M=function(){B=clearTimeout(B);var d;j.play.hide();j.pause.showin();
(d=s.find("."+c.video+",."+c.audio)).length&&(d.data("playing")||a.videoAuto)?(C=!0,d.trigger("setEndedFn",Fa)):B=setTimeout(function(){N(!0)},a.slideshowDelay);a.bgAudioId&&b(a.bgAudioId).trigger("play");H()},G=function(){C=!1;if(B){var d;j.pause.hide();j.play.showin();B=clearTimeout(B);H();y?a.bgAudioId&&b(a.bgAudioId).trigger("pause"):e("slideshowOn",!1);(d=s.find("."+c.video+",."+c.audio)).length&&(d.data("playing")||a.videoAuto)&&d.trigger("setEndedFn",null)}},fa=!1,xa=function(){!E&&!fa&&(fa=
!0,m.stop(!0,!1).fadeTo(200,0.8,function(){n&&m.css("filter",null)}),L=setTimeout(function(){H()},1500))},H=function(){E?L=setTimeout(function(){H()},750):(fa=!1,L=clearTimeout(L),m.fadeTo(500,a.controlOutOpacity))},Oa=function(){fa?(fa=!1,L=clearTimeout(L),m.fadeTo(500,a.controlOutOpacity)):xa();return!0},ta=function(){a.infoOn&&(j.hideInfo.hide(),j.showInfo.showin(),a.transitions?r.animate({bottom:-r.outerHeight()},500,function(){r.hide()}):r.css({bottom:-r.outerHeight()}).hide(),s&&a.fitFreespace&&
s.centerThis({fit:a.fitImage,marginTop:O(),marginBottom:0}),H(),e("infoOn",!1))},va=function(){if(!a.infoOn){j.showInfo.hide();j.hideInfo.showin();r.is(":hidden")&&r.show().css({bottom:-r.outerHeight()});var b=function(){r.children("."+c.map).trigger("adjust")};a.transitions?r.animate({bottom:0},500,b):(r.show().css({bottom:0}),b());s&&a.fitFreespace&&s.centerThis({fit:a.fitImage,marginTop:O(),marginBottom:r.outerHeight()});H();e("infoOn",!0)}},sa=function(){a.thumbsOn&&(j.hideThumbs.hide(),j.showThumbs.showin(),
a.transitions?w.animate({top:-z.outerHeight()-10},500):w.css({top:-z.outerHeight()-10}),s&&a.fitFreespace&&s.centerThis({fit:a.fitImage,marginTop:0,marginBottom:P()}),H(),e("thumbsOn",!1))},ua=function(){a.thumbsOn||(j.showThumbs.hide(),j.hideThumbs.showin(),a.transitions?w.animate({top:0},500):w.css({top:0}),s&&a.fitFreespace&&s.centerThis({fit:a.fitImage,marginTop:z.outerHeight(),marginBottom:P()}),H(),e("thumbsOn",!0))},O=function(){return a.fitFreespace&&0<=w.position().top?z.outerHeight()||0:
0},P=function(){return a.fitFreespace&&r.is(":visible")?r.outerHeight()||0:0},ma=function(){j.noresize.hide();j.resize.showin();b.fn.centerThis.defaults.enlarge=!a.fitShrinkonly;s.centerThis({fit:!1,marginTop:O(),marginBottom:P()});H();e("fitImage",!1)},na=function(){j.resize.hide();j.noresize.showin();b.fn.centerThis.defaults.enlarge=!0;s.centerThis({fit:!0,marginTop:O(),marginBottom:P()});H();e("fitImage",!0)},Pa=function(){if(!0===b(this).parents("[role=scroll]").data("dragOn"))return!1;D(b(this));
return!1},pa=function(a){a&&a.length&&(a.stop(),a.trigger("destroy"),a.find("."+c.video+",."+c.audio).trigger("destroy"),a.find("."+c.share+"-"+c.icon).trigger("destroy"),a.find("."+c.map).trigger("destroy"),a.remove())},D=function(e){if("number"!==typeof e)if(e){var f;if(null==e)f=v;else if("number"===typeof e)f=Math.minMax(0,e,g.length);else if(0>(f=g.index(e))&&x)f=x.index(e);e=f}else e=v;h.is(":hidden")&&(s&&s.data("curr")!==e&&pa(s),a.transitions?h.fadeIn(a.speed):h.show(),z.children(":first").loadImages());
if(!(s&&s.data("curr")===e)){f=g.eq(e);var j=f.attr("href"),k=f.children("img").eq(0),n,m;if(k.length){s&&(pa(A),A=s,A.css({zIndex:0}),A.find("."+c.main).trigger("unswipe").off("touchstart"),A.unmousewheel());(n=h.children("."+c.img).not(s)).length&&n.stop().remove();s=b("<div>",{id:"img"+e,"class":c.img}).css({zIndex:1,display:"none"}).data({curr:e}).appendTo(h);if(!a.skipIndex&&(a.level||a.uplink))s.on("click",function(a){if(b(a.target).hasClass("img"))return aa(),!1});l.css({opacity:0,display:"block"}).animate({opacity:1});
v=e;J();var r=b("<div>",{"class":c.main});if(k.data(c.isother)||!j)f=Math.max(k.data(c.width)||h.width()-160,280),m=Math.max(k.data(c.height)||h.height()-120,200),r.addClass(c.other),(j=k.data(c.content))&&(j=j.trim()).length?r.css({width:f,height:m}).append(j.startsWith("http://")?b("<iframe>",{width:"100%",height:"100%",src:j,frameborder:0,allowfullscreen:"allowfullscreen"}):j):(r.append(b("<a>",{href:k.data(c.link),target:"_blank"})),r.append(b("<p>",{text:d.clickToOpen})),r.children("a:first").append(k.clone())),
ba(r);else if(k.data(c.isvideo)||k.data(c.isaudio)){f=k.data(c.width)||h.width()-160;m=k.data(c.height)||h.height()-120;(C=B)&&(B=clearTimeout(B));if(k.data(c.isvideo)){var j=h.width()-40,t=h.height()-40;if(f>j||m>t)j=Math.min(j/f,t/m),f=Math.round(f*j),m=Math.round(m*j);r.addClass(c.video)}else f=Math.max(320,k.data(c.width)||0),m=Math.max(180,k.data(c.height)||0),r.addClass(c.audio);r.css({width:f,height:m}).data({ow:f,oh:m});setTimeout(function(){n=r.addPlayer({src:k.data(c.link),title:a.showVideoTitle?
k.attr("alt"):"",poster:k.data(c.poster),ended:Fa,resPath:a.resPath})},a.speed/3);ba(r)}else f=k.data(c.width),m=k.data(c.height),t=b(new Image),r.addClass(c.image).append(t).css({width:f,height:m}).data({ow:f,oh:m}),t.attr({src:j,width:f||"auto",height:m||"auto"}),t[0].complete?(k.data("cached",!0),ba(r)):t.on("load",function(){k.data("cached",!0);ba(r)}).prop({src:j});Ga(k,e)}}},Ha=function(a){a&&a.length&&(a.data(c.kill,!0),setTimeout(function(){a&&a.removeData(c.kill)},500))},Qa=function(a){a=
b(a.target).parents("."+c.img);a.data(c.kill)||(Ha(a),N());return!1},Ra=function(a,d){a.preventDefault();var e=b(a.target).parents("."+c.img);e.data(c.kill)||(Ha(e),0<d?la():N());return!1},Ia=function(a){var d=a.attr("href"),e=a.children("img").eq(0);d&&(e&&!e.data("cached")&&!e.data(c.isvideo)&&!e.data(c.isother))&&b("<img>").on("load",function(){e.data("cached",!0)}).attr({src:d})},ba=function(d){l&&l.length&&(a.transitions?l.stop(!0,!1).animate({opacity:0},{duration:100,complete:function(){b(this).hide()}}):
l.hide());if(y)a.transitions?A&&A.stop(!0,!1).animate({opacity:0},a.speed/2,"linear",function(){pa(A)}):pa(A),s.children().not("."+c.bottom).remove(),s.append(d);else if(d=s.find("."+c.main),!d.length)return;var e=d.hasClass(c.image),f=d;if(a.rightClickProtect)f.on("contextmenu",noAction);setTimeout(function(){if(!document.touchMode&&a.enableMouseWheel)s.on("mousewheel",Ra);if(document.touchMode)xa(),s.on("touchstart",Oa),f.on("click",noAction);else if((1<g.length||!y)&&f.hasClass(c.image)&&a.clickForNext)f.on("click",
Qa);if(!a.clickForNext)f.on(document.touchMode?"dbltap":"dblclick",function(){a.fitImage?ma():na();return!1});f.hasClass(c.image)&&f.addSwipe(function(){N()},function(){la()})},a.speed/2);setTimeout(function(){a.transitions?s.css({opacity:0,display:"block"}).animate({opacity:1},{duration:a.speed,complete:n?function(){s.css({filter:""})}:null}).centerThis({init:!0,speed:Math.round(0.75*a.speed),marginTop:O(),marginBottom:P(),preScale:e&&a.preScale,animate:e&&a.preScale&&1!==a.preScale,fit:a.fitImage}):
s.show().centerThis({init:!0,marginTop:O(),marginBottom:P(),fit:a.fitImage});var b=v,d=s.find("nav a."+c.regions+"-icon").eq(0);d.length&&(b=g.eq(b).find("img:first"),d.addRegions(s.find("."+c.main).eq(0),b.data(c.regions)))},50);y?(v<g.length-1&&Ia(g.eq(v+1)),0<v&&Ia(g.eq(v-1)),"number"===a.hash?b.history.load(v+1):"fileName"===a.hash&&(d=Da())&&b.history.load(d)):a.slideshowOn&&M()},Ga=function(f,h){var j,k,l,n,m=Math.round(0.8*s.width())-30,p=!(f.data(c.isvideo)||f.data(c.isaudio)||f.data(c.isother));
y?(r=b("<div>",{"class":c.bottom}).appendTo(s),j=b("<div>",{"class":c.cont}).appendTo(r),typeof h!==UNDEF&&a.showImageNumbers&&j.append('<div class="nr"><strong>'+(h+1)+"</strong> / "+g.length+"</div>"),(l=f.data(c.caption))&&j.append(l)):j=r.children("."+c.cont);k=b("<nav>").prependTo(j);j.width()>m&&j.width(m);var t=function(d){var f=b(d.target);d=f.data("rel");var g=j.children("."+d),h=g.is(":visible"),k=P(),l=g.outerHeight(!0);f.toggleClass(c.active,!h);d===c.map?(f=function(){h||g.children("."+
c.mapcont).trigger("adjust")},a.transitions?g.slideToggle("fast",f):(g.toggle(),setTimeout(f,50))):a.transitions?g.slideToggle("fast"):g.toggle();s&&a.fitFreespace&&s.centerThis({fit:a.fitImage,marginTop:O(),marginBottom:k+(h?-l:l)});e(d+"On",!h);return!1},m=function(e){var f=b("<a>",{"class":e+"-"+c.icon}).data("rel",e).appendTo(k);a.buttonLabels?(f.text(d[e+"Btn"]||e),f.addHint(d[e+"Label"]||"")):f.addHint(d[e+"Label"]||d[e+"Btn"]||e);f.on("click",t)},u;if(!y&&(u=j.children("."+c.comments)).length)u.data("rel",
c.comments),m(c.comments);for(var w=[c.meta,c.map,c.shop,c.share,c.print],z=0;z<w.length;z++)if(u=w[z],null!=f.data(u)&&(u!=c.map||a.mapOnSlide)){var A=u;b("<div>",{"class":c.panel+" "+A}).data("rel",A).appendTo(j).append(b("<div>",{"class":c.icon}));m(u)}if(p){if(a.fotomotoOn){var B=b("<a>",{"class":c.fotomoto+"-"+c.icon,text:a.buttonLabels?d.fotomotoBtn:""}).appendTo(k);B.addHint(LOCAL?d.locationWarning:"<h5>Fotomoto</h5>"+d.fotomotoLabel);setTimeout(function(){B.on("click",function(){typeof FOTOMOTO!==
UNDEF&&!LOCAL&&FOTOMOTO.API.showWindow(10,f.data(c.link)||(y?f.data(c.src):f.attr("src")).replace(a.thumbs+"/",a.slides+"/"));return!1})},a.speed)}if(l=f.data(c.mostphotos))b("<a>",{href:"http://www.mostphotos.com/"+l,"class":c.mostphotos+"-"+c.icon,text:a.buttonLabels?d.mostphotosBtn:"",target:"_blank"}).appendTo(k).addHint("<h5>Buy this image</h5>"+d.mostphotosLabel);f.data(c.regions)&&(m=b("<a>",{"class":c.regions+"-"+c.icon}).appendTo(k),a.buttonLabels&&m.text(d.people),a[c.regions+"On"]&&m.addClass(c.active),
m.on("click",function(){e(c.regions+"On",!b(this).hasClass(c.active))}))}if((l=f.data(c.link))&&(!p&&a.downloadNonImages||p&&!a.rightClickProtect))p=b("<a>",{href:l,"class":c.link+"-"+c.icon,download:"",target:"_blank"}).appendTo(k),a.buttonLabels&&p.text(f.data(c.isoriginal)?d.original:d.hiRes),p.addHint((a.buttonLabels?"":"<strong>"+(f.data(c.isoriginal)?d.original:d.hiRes)+"</strong><br>")+("download"in p[0]?"":"<small>"+d.saveTip+"<br>")+'<input class="fullw" type="text" value="'+l.fullUrl()+
'" readonly></small>');if(a.shareSlides){var C=b("<a>",{"class":c.share+"-"+c.icon}).appendTo(k);a.buttonLabels&&C.text(d.share);y?(n="number"===a.hash?v+1:Da(),setTimeout(function(){C.addSocial({hash:n,title:(f.data(c.caption)||"").stripHTML(),image:f.data(c.src)})},a.speed)):C.addSocial({useHash:!1,title:(f.data(c.caption)||"").stripHTML(),image:f.data(c.src)})}a.imgHook&&(p=b("<a>",{"class":c.custom+"-"+c.icon}).appendTo(k),a.buttonLabels&&a.imgHookBtn&&p.text(a.imgHookBtn),p.on("click",function(){var d=
f.data(c.link)||(y?f.data(c.src):f.attr("src")).replace(a.thumbs+"/","");b("body").addModal(b(a.imgHook.replace(/\%fileName\%/g,d)),{uid:c.custom,width:a.imgHookWidth||600,title:a.imgHookBtn})}));a.imgHookFn&&b.isFunction(a.imgHookFn)&&a.imgHookFn.call(f);j.children("."+c.panel).each(function(){var d=b(this),e=d.data("rel");if(e&&null!==(l=f.data(e))){if(e===c.map){var g=b("<div>",{"class":c.mapcont}).appendTo(d);g.width(j.width()-30);if(a.mapAll)g.addMap({click:function(){y?D(this.link):window.location.href=
this.link},markers:I,curr:parseInt(y?f.data(c.mapid):x.filter("."+c.active).find("img:first").data(c.mapid),10)});else{var h=(f.data(c.caption)||"").stripHTML()||f.attr("alt")||v+1+"";g.addMap({map:l,label:h})}setTimeout(function(){g.trigger("adjust")},a.speed)}else e===c.shop?d.addClass("clearfix").addShop({file:(f.data(c.link)||(y?f.data(c.src)||"No. "+v:f.attr("src"))).getFile(),options:l,discount:f.data(c.discount)}):d.append(l);a[e+"On"]?k.children("a."+e+"-icon").addClass(c.active):d.hide()}});
k.html().length||k.remove();a.infoOn||r.hide()},Ja=function(){m.children("a").not(j.play).addHint();var c=b("<div>",{"class":"slideshowdelay",text:j.play.prop("title")}).hide().appendTo(b("body")),d=b("<form>").appendTo(c);d.on("submit",function(){M()}).append(b("<input>",{type:"text",value:a.slideshowDelay/1E3}).focus().on("change",function(){e("slideshowDelay",Math.round(parseFloat(1E3*b(this).val())||b.fn.turtle.defaults.slideshowDelay));return!0})).append(b("<a>",{"class":"button",href:NOLINK,
text:" "}).on("click",function(){M()}));d.find("input");j.play.prop("title","").addHint(c);document.touchMode||(y?m.hide():L=setTimeout(function(){H()},1500));m.on({mouseenter:function(){E=!0;b(this).stop(!0,!1).fadeTo(200,1)},mouseleave:function(){E=!1;b(this).stop(!0,!1).fadeTo(200,0.8)}});if(!document.touchMode)h.on("mousemove",function(a){if(!K&&(Ba-a.clientY||ra-a.clientX))0<=ra&&xa(),ra=a.clientX,Ba=a.clientY})};if(F){setTimeout(Z,1E3);g=b(this).find("td > a");if(!g.length)return;Z=b(a.header);
if(null!=Z&&Z.length){if(a.showStart){var ga=b("<div>",{"class":c.startShow}).appendTo(Z),ya=b("<div>",{"class":c.startTxt,width:"auto",text:d.startSlideshow}).appendTo("body"),Ka=ga.width(),La=ya.outerWidth();ga.append(ya);if(Ka<La)ya.on({mouseenter:function(){ga.stop(!0,!1).animate({width:La},500)},mouseleave:function(){ga.stop(!0,!1).animate({width:Ka},500)}});ga.on({click:function(){if(y)return a.slideshowFullScreen&&b("html").fullScreen(!0),D(),setTimeout(M,1E3),!1;e("slideshowOn",!0,8);window.location.href=
g.filter("."+c.active).attr("href")}})}a.uplink=Z.find("."+c.parent+">a").attr("href")||""}f=b("."+c.items);var ca,ha,Ma,Sa=function(){b.cookie("curr:"+a.albumName+"/"+a.relPath,g.index(b(this)),600)};g.each(function(){ca=b(this);ha=ca.find("img").eq(0);if(ha.length){if(a.rightClickProtect)ca.on("contextmenu",noAction);ha.attr("src").endsWith("/"+a.loadImg)&&ha.addClass(c.toload);a.markNewDays&&k-parseInt(ha.data(c.modified)||0,10)<=a.markNewDays&&ca.append(b("<span>",{"class":c.newItem,text:d.newItem}));
(Ma=ca.attr("title"))&&ca.addHint(Ma);if(!y)g.on("click",Sa)}});setTimeout(function(){f.loadImages();setTimeout(function(){f.loadImages()},1200)},100);if(document.touchMode)f.on("scroll touchend",function(){f.loadImages();return!0});f.find("."+c.folders).on("click",function(){b.cookie("curr:"+a.albumName+"/"+a.relPath,null);return!0});if(a.mapOnIndex||a.mapAll&&a.mapOnSlide)I=g.collectMarkers({dynamic:y});a.mapOnIndex&&I.length&&b("#"+c.map+" ."+c.cont).addMap({click:function(){y?D(this.link):window.location.href=
this.link},markers:I,range:999,curr:0});null===(v=b.cookie("curr:"+a.albumName+"/"+a.relPath))||v>=g.length?(v=0,J(!0)):setTimeout(function(){J()},300);if(b.isFunction(a.enableKeyboard)||a.enableKeyboard)b(window).on("keydown",ea);if(y){g.on("click",Pa);h=b("<div>",{"class":c.gallery}).attr("role","gallery").appendTo("body");l=b("<div>",{"class":c.wait}).appendTo(h);w=b("<div>",{"class":c.navigation}).appendTo(h);var qa,da,U,V,ia=0,W,ja,Q,R;z=b("<div>",{"class":c.scrollbox}).appendTo(w);V=b("<div>",
{"class":"wrap"}).appendTo(z);V=b("<ul>",{"class":c.cont+" "+c.load}).appendTo(V);g.each(function(){qa=b(this);U=qa.find("img").eq(0);if(U.length){da=b("<a>",{href:NOLINK}).appendTo(b("<li>").appendTo(V));W||(W=da.width(),ja=da.height()||W);Q=U.attr("width");R=U.attr("height");if(Q>W||R>ja)Q/W>R/ja?(R=Math.round(R*W/Q),Q=W):(Q=Math.round(Q*ja/R),R=ja);b("<img>",{src:U.attr("src"),"class":U.attr("class")}).data({src:U.data("src")}).attr({width:Q,height:R}).appendTo(da);da.addHint(qa.data("hint")||
qa.siblings("."+c.caption).html());ia+=da.outerWidth()}});ia+=2*V.children().length;V.width(ia);V.scrollThumbs({enableMouseWheel:a.enableMouseWheel});x=z.find("li > a");x.on("click",function(){if(!0===b(this).parents("[role=scroll]").data("dragOn"))return!1;b(this).hasClass(c.active)||(G(),D(x.index(b(this))));J();return!1});m=b("<nav>",{"class":c.controls+" clearfix"}).appendTo(w);j.prev=b("<a>",{"class":c.prev,title:d.previousPicture}).appendTo(m);if(!a.skipIndex||a.level||a.uplink)j.up=b("<a>",
{"class":c.up,title:a.skipIndex?d.upOneLevel:d.backToIndex}).appendTo(m);j.noresize=b("<a>",{"class":c.noresize,title:d.oneToOneSize}).appendTo(m);j.resize=b("<a>",{"class":c.resize,title:d.fitToScreen}).appendTo(m);j.hideInfo=b("<a>",{"class":c.hideInfo,title:d.hideInfo}).appendTo(m);j.showInfo=b("<a>",{"class":c.showInfo,title:d.showInfo}).appendTo(m);j.hideThumbs=b("<a>",{"class":c.hideThumbs,title:d.hideThumbs}).appendTo(m);j.showThumbs=b("<a>",{"class":c.showThumbs,title:d.showThumbs}).appendTo(m);
j.play=b("<a>",{"class":c.play,title:d.startAutoplay}).appendTo(m);j.pause=b("<a>",{"class":c.pause,title:d.stopAutoplay}).appendTo(m);j.next=b("<a>",{"class":c.next,title:d.nextPicture}).appendTo(m);var za=0;m.children().each(function(){"none"!==b(this).css("display")&&(za+=b(this).outerWidth())});m.width(za);j.prev.on("click",function(){G();la();return!1});if(j.up)j.up.on("click",function(){G();aa();return!1});j.noresize.on("click",function(){ma();return!1});j.resize.on("click",function(){na();
return!1});a.fitImage?(j.resize.hide(),j.noresize.showin()):(j.noresize.hide(),j.resize.showin());j.hideInfo.on("click",function(){ta();return!1});j.showInfo.on("click",function(){va();return!1});a.infoOn?(j.showInfo.hide(),j.hideInfo.showin()):(j.hideInfo.hide(),j.showInfo.showin());j.hideThumbs.on("click",function(){sa();return!1});j.showThumbs.on("click",function(){ua();return!1});a.thumbsOn?(j.showThumbs.hide(),j.hideThumbs.showin()):(j.hideThumbs.hide(),j.showThumbs.showin());j.play.on("click",
function(){a.slideshowFullScreen&&(E=!1,b("html").fullScreen(!0));M();return!1});j.pause.on("click",function(){G();return!1});a.slideshowAuto?(j.play.hide(),j.pause.showin()):(j.pause.hide(),j.play.showin());j.next.on("click",function(){wa();N();return!1});Ja();a.thumbsOn||w.css("top",-z.outerHeight()-10);z.on({mouseenter:function(){H();K=!0},mouseleave:function(){K=!1}});"page"!==b("body").attr("id")&&(a.hash&&"no"!==a.hash)&&b.history.init(Na);a.slideshowAuto?(a.slideshowFullScreen&&b("html").fullScreen(!0),
D(v),M()):a.skipIndex&&D(v);if(b.isFunction(a.enableKeyboard)||a.enableKeyboard)b(window).on("keydown",Ca)}}else{g=b(this);h=b("."+c.gallery);w=b("."+c.navigation);m=b("."+c.controls);s=b("."+c.img);r=b("."+c.bottom);g=s.children("."+c.main);v=0;z=b("."+c.scrollbox);x=z.find("li > a");var X=g.find("img:first");a.mapAll&&(I=x.collectMarkers());var ea=z.find("."+c.cont),ka=0;x.addHint().each(function(){ka+=b(this).outerWidth()});ka+=2*x.length;ea.width(ka);ea.scrollThumbs({enableMouseWheel:a.enableMouseWheel});
x.on("click",function(){return!b(this).parents("[role=scroll]").data("dragOn")});ea.trigger("setactive");a.thumbsOn||w.css("top",-z.outerHeight()-10);j.prev=m.children("."+c.prev);j.up=m.children("."+c.up);j.noresize=m.children("."+c.noresize);j.resize=m.children("."+c.resize);j.hideInfo=m.children("."+c.hideInfo);j.showInfo=m.children("."+c.showInfo);j.hideThumbs=m.children("."+c.hideThumbs);j.showThumbs=m.children("."+c.showThumbs);j.play=m.children("."+c.play);j.pause=m.children("."+c.pause);j.next=
m.children("."+c.next);j.up.on("click",function(){b.cookie("curr:"+a.albumName+"/"+a.relPath,a.curr,600);return!0});j.noresize.on("click",function(){ma();return!1});j.resize.on("click",function(){na();return!1});j.hideInfo.on("click",function(){ta();return!1});j.showInfo.on("click",function(){va();return!1});j.hideThumbs.on("click",function(){sa();return!1});j.showThumbs.on("click",function(){ua();return!1});j.play.on("click",function(){a.slideshowFullScreen&&(E=!1,b("html").fullScreen(!0));M();return!1});
j.pause.on("click",function(){G();return!1});a.slideshowAuto?(j.play.hide(),j.pause.showin()):(j.pause.hide(),j.play.showin());j.next.on("click",function(){N();return!1});Ja();a.thumbsOn?(j.showThumbs.hide(),j.hideThumbs.showin(),w.css({top:0}).removeClass("hide")):(j.hideThumbs.hide(),j.showThumbs.showin(),w.css({top:-z.outerHeight()-10}).removeClass("hide"));a.infoOn?(j.showInfo.hide(),j.hideInfo.showin(),r.show().css({bottom:0})):(j.hideInfo.hide(),j.showInfo.showin(),r.css({bottom:-r.outerHeight()}).hide());
a.fitImage?(j.resize.hide(),j.noresize.showin()):(j.noresize.hide(),j.resize.showin());X.length&&(g.hasClass(c.image)&&!X[0].complete?(X.on("load",function(){X.data("cached",!0);ba()}).attr({src:X.attr("src")}),l=b("<div>",{"class":c.wait}).appendTo(h),l.fadeIn()):(X.data("cached",!0),ba()),Ga(X));if(b.isFunction(a.enableKeyboard)||a.enableKeyboard)b(window).on("keydown",Ca)}b(window).on("resize",Aa);if(document.touchMode)b(window).on("orientationchange",Aa)})};b.fn.turtle.defaults={header:"#main header",
slides:"slides",thumbs:"thumbs",linkSlides:!1,loadImg:"blank.png",hash:"fileName",resPath:"res/",relPath:"",level:0,skipIndex:!1,showStart:!0,speed:600,controlbarOpacity:0,controlOutOpacity:0,transitions:!0,preScale:0.95,slideshowDelay:4E3,slideshowLoop:!1,slideshowAuto:!1,slideshowFullScreen:!1,markNewDays:0,afterLast:"ask",thumbsOn:!1,fitImage:!1,fitShrinkonly:!1,fitFreespace:!0,fitPadding:15,borderWidth:10,clickForNext:!0,rightClickProtect:!1,showImageNumbers:!0,buttonLabels:!1,infoOn:!0,metaOn:!1,
mapOn:!1,mapOnIndex:!1,mapOnSlide:!1,mapType:"roadmap",mapZoom:18,mapAll:!1,shopOn:!0,shopGateway:"paypal",shopCurrency:"USD",shareOn:!1,printOn:!1,regionsOn:!1,downloadNonImages:!1,enableKeyboard:!0,enableMouseWheel:!0,videoAuto:!1,videoMaximize:!1,videoTitleOn:!1,prioritizeFlash:!1,scrollDuration:1E3};b.fn.turtle.texts={startSlideshow:"Start slideshow",close:"Close",atLastPage:"At last page",atLastPageQuestion:"Where to go next?",startOver:"Start over",backToHome:"Back to home",stop:"Stop",upOneLevel:"Up one level",
backToIndex:"Back to index page",previousPicture:"Previous picture",nextPicture:"Next picture",oneToOneSize:"1:1 size",fitToScreen:"Fit to screen",showInfo:"Show caption / info",hideInfo:"Hide caption / info",showThumbs:"Show thumbnails",hideThumbs:"Hide thumbnails",startAutoplay:"Start autoplay",stopAutoplay:"Stop autoplay",closeWindow:"Close window",clickToOpen:"Click to open this document with the associated viewer",download:"Download",original:"Original",hiRes:"Hi res.",saveTip:"Use Right click -> Save link as... to download",
commentsBtn:"Comments",commentsLabel:"Add a comment, view other's comments",metaBtn:"Photo data",metaLabel:"Display photograpic (Exif/Iptc) data",mapBtn:"Map",mapLabel:"Show the photo location on map",shopBtn:"Buy",shopLabel:"Show options to buy this item",shareBtn:"Share",shareLabel:"Share this photo over social sites",fotomotoBtn:"Buy / Share",fotomotoLabel:"Buy prints or digital files, send free eCard through Fotomoto",locationWarning:"Works only when uploaded"};b.fn.turtle.ids={gallery:"gallery",
items:"items",folders:"folders",navigation:"navigation",scrollbox:"scrollbox",active:"active",parent:"parent",bottom:"bottom",img:"img",main:"main",image:"image",video:"video",audio:"audio",other:"other",wait:"wait",cont:"cont",panel:"panel",icon:"icon",caption:"caption",meta:"meta",map:"map",mapcont:"mapcont",mapid:"mapid",shop:"shop",discount:"discount",fotomoto:"fotomoto",mostphotos:"mostphotos",share:"share",print:"print",comments:"comments",link:"link",custom:"custom",poster:"poster",isoriginal:"isoriginal",
content:"content",width:"width",height:"height",src:"src",ext:"ext",thumbExt:"thumbext",regions:"regions",isvideo:"isvideo",isaudio:"isaudio",isother:"isother",modified:"modified",startShow:"startshow",startBtn:"startbtn",startTxt:"starttxt",controls:"controls",prev:"prev",next:"next",up:"up",noresize:"noresize",resize:"resize",hideInfo:"hideinfo",showInfo:"showinfo",hideThumbs:"hidethumbs",showThumbs:"showthumbs",play:"play",pause:"pause",newItem:"newlabel",showHint:"showhint",kill:"kill",load:"load",
toload:"toload"}})(jQuery);
